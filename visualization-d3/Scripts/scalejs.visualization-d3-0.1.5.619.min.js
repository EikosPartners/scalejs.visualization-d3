/*! Hammer.JS - v1.0.6 - 2014-01-02
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */

!function(t,e){function n(){o.READY||(o.event.determineEventTypes(),o.utils.each(o.gestures,function(t){o.detection.register(t)}),o.event.onTouch(o.DOCUMENT,o.EVENT_MOVE,o.detection.detect),o.event.onTouch(o.DOCUMENT,o.EVENT_END,o.detection.detect),o.READY=!0)}var o=function(t,e){return new o.Instance(t,e||{})};o.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},o.HAS_POINTEREVENTS=t.navigator.pointerEnabled||t.navigator.msPointerEnabled,o.HAS_TOUCHEVENTS="ontouchstart"in t,o.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,o.NO_MOUSEEVENTS=o.HAS_TOUCHEVENTS&&t.navigator.userAgent.match(o.MOBILE_REGEX),o.EVENT_TYPES={},o.DIRECTION_DOWN="down",o.DIRECTION_LEFT="left",o.DIRECTION_UP="up",o.DIRECTION_RIGHT="right",o.POINTER_MOUSE="mouse",o.POINTER_TOUCH="touch",o.POINTER_PEN="pen",o.EVENT_START="start",o.EVENT_MOVE="move",o.EVENT_END="end",o.DOCUMENT=t.document,o.plugins=o.plugins||{},o.gestures=o.gestures||{},o.READY=!1,o.utils={extend:function(t,n,o){for(var i in n)t[i]!==e&&o||(t[i]=n[i]);return t},each:function(t,n,o){var i,r;if("forEach"in t)t.forEach(n,o);else if(t.length!==e){for(i=0,r=t.length;r>i;i++)if(n.call(o,t[i],i,t)===!1)return}else for(i in t)if(t.hasOwnProperty(i)&&n.call(o,t[i],i,t)===!1)return},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],n=[];return o.utils.each(t,function(t){e.push("undefined"!=typeof t.clientX?t.clientX:t.pageX),n.push("undefined"!=typeof t.clientY?t.clientY:t.pageY)}),{pageX:(Math.min.apply(Math,e)+Math.max.apply(Math,e))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(t,e,n){return{x:Math.abs(e/t)||0,y:Math.abs(n/t)||0}},getAngle:function(t,e){var n=e.pageY-t.pageY,o=e.pageX-t.pageX;return 180*Math.atan2(n,o)/Math.PI},getDirection:function(t,e){var n=Math.abs(t.pageX-e.pageX),i=Math.abs(t.pageY-e.pageY);return n>=i?t.pageX-e.pageX>0?o.DIRECTION_LEFT:o.DIRECTION_RIGHT:t.pageY-e.pageY>0?o.DIRECTION_UP:o.DIRECTION_DOWN},getDistance:function(t,e){var n=e.pageX-t.pageX,o=e.pageY-t.pageY;return Math.sqrt(n*n+o*o)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==o.DIRECTION_UP||t==o.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(t,e){e&&t&&t.style&&(o.utils.each(["webkit","khtml","moz","Moz","ms","o",""],function(n){o.utils.each(e,function(e){n&&(e=n+e.substring(0,1).toUpperCase()+e.substring(1)),e in t.style&&(t.style[e]=e)})}),"none"==e.userSelect&&(t.onselectstart=function(){return!1}),"none"==e.userDrag&&(t.ondragstart=function(){return!1}))}},o.Instance=function(t,e){var i=this;return n(),this.element=t,this.enabled=!0,this.options=o.utils.extend(o.utils.extend({},o.defaults),e||{}),this.options.stop_browser_behavior&&o.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),o.event.onTouch(t,o.EVENT_START,function(t){i.enabled&&o.detection.startDetect(i,t)}),this},o.Instance.prototype={on:function(t,e){var n=t.split(" ");return o.utils.each(n,function(t){this.element.addEventListener(t,e,!1)},this),this},off:function(t,e){var n=t.split(" ");return o.utils.each(n,function(t){this.element.removeEventListener(t,e,!1)},this),this},trigger:function(t,e){e||(e={});var n=o.DOCUMENT.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e;var i=this.element;return o.utils.hasParent(e.target,i)&&(i=e.target),i.dispatchEvent(n),this},enable:function(t){return this.enabled=t,this}};var i=null,r=!1,a=!1;o.event={bindDom:function(t,e,n){var i=e.split(" ");o.utils.each(i,function(e){t.addEventListener(e,n,!1)})},onTouch:function(t,e,n){var s=this;this.bindDom(t,o.EVENT_TYPES[e],function(c){var l=c.type.toLowerCase();if(!l.match(/mouse/)||!a){l.match(/touch/)||l.match(/pointerdown/)||l.match(/mouse/)&&1===c.which?r=!0:l.match(/mouse/)&&!c.which&&(r=!1),l.match(/touch|pointer/)&&(a=!0);var h=0;r&&(o.HAS_POINTEREVENTS&&e!=o.EVENT_END?h=o.PointerEvent.updatePointer(e,c):l.match(/touch/)?h=c.touches.length:a||(h=l.match(/up/)?0:1),h>0&&e==o.EVENT_END?e=o.EVENT_MOVE:h||(e=o.EVENT_END),(h||null===i)&&(i=c),n.call(o.detection,s.collectEventData(t,e,s.getTouchList(i,e),c)),o.HAS_POINTEREVENTS&&e==o.EVENT_END&&(h=o.PointerEvent.updatePointer(e,c))),h||(i=null,r=!1,a=!1,o.PointerEvent.reset())}})},determineEventTypes:function(){var t;t=o.HAS_POINTEREVENTS?o.PointerEvent.getEvents():o.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],o.EVENT_TYPES[o.EVENT_START]=t[0],o.EVENT_TYPES[o.EVENT_MOVE]=t[1],o.EVENT_TYPES[o.EVENT_END]=t[2]},getTouchList:function(t){return o.HAS_POINTEREVENTS?o.PointerEvent.getTouchList():t.touches?t.touches:(t.identifier=1,[t])},collectEventData:function(t,e,n,i){var r=o.POINTER_TOUCH;return(i.type.match(/mouse/)||o.PointerEvent.matchType(o.POINTER_MOUSE,i))&&(r=o.POINTER_MOUSE),{center:o.utils.getCenter(n),timeStamp:(new Date).getTime(),target:i.target,touches:n,eventType:e,pointerType:r,srcEvent:i,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return o.detection.stopDetect()}}}},o.PointerEvent={pointers:{},getTouchList:function(){var t=this,e=[];return o.utils.each(t.pointers,function(t){e.push(t)}),e},updatePointer:function(t,e){return t==o.EVENT_END?this.pointers={}:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e),Object.keys(this.pointers).length},matchType:function(t,e){if(!e.pointerType)return!1;var n=e.pointerType,i={};return i[o.POINTER_MOUSE]=n===e.MSPOINTER_TYPE_MOUSE||n===o.POINTER_MOUSE,i[o.POINTER_TOUCH]=n===e.MSPOINTER_TYPE_TOUCH||n===o.POINTER_TOUCH,i[o.POINTER_PEN]=n===e.MSPOINTER_TYPE_PEN||n===o.POINTER_PEN,i[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},o.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:o.utils.extend({},e),lastEvent:!1,name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var e=this.current.inst.options;return o.utils.each(this.gestures,function(n){return this.stopped||e[n.name]===!1||n.handler.call(n,t,this.current.inst)!==!1?void 0:(this.stopDetect(),!1)},this),this.current&&(this.current.lastEvent=t),t.eventType==o.EVENT_END&&!t.touches.length-1&&this.stopDetect(),t}},stopDetect:function(){this.previous=o.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(t){var e=this.current.startEvent;!e||t.touches.length==e.touches.length&&t.touches!==e.touches||(e.touches=[],o.utils.each(t.touches,function(t){e.touches.push(o.utils.extend({},t))}));var n,i,r=t.timeStamp-e.timeStamp,a=t.center.pageX-e.center.pageX,s=t.center.pageY-e.center.pageY,c=o.utils.getVelocity(r,a,s);return"end"===t.eventType?(n=this.current.lastEvent&&this.current.lastEvent.interimAngle,i=this.current.lastEvent&&this.current.lastEvent.interimDirection):(n=this.current.lastEvent&&o.utils.getAngle(this.current.lastEvent.center,t.center),i=this.current.lastEvent&&o.utils.getDirection(this.current.lastEvent.center,t.center)),o.utils.extend(t,{deltaTime:r,deltaX:a,deltaY:s,velocityX:c.x,velocityY:c.y,distance:o.utils.getDistance(e.center,t.center),angle:o.utils.getAngle(e.center,t.center),interimAngle:n,direction:o.utils.getDirection(e.center,t.center),interimDirection:i,scale:o.utils.getScale(e.touches,t.touches),rotation:o.utils.getRotation(e.touches,t.touches),startEvent:e}),t},register:function(t){var n=t.defaults||{};return n[t.name]===e&&(n[t.name]=!0),o.utils.extend(o.defaults,n,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}},o.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(t,e){if(o.detection.current.name!=this.name&&this.triggered)return e.trigger(this.name+"end",t),void(this.triggered=!1);if(!(e.options.drag_max_touches>0&&t.touches.length>e.options.drag_max_touches))switch(t.eventType){case o.EVENT_START:this.triggered=!1;break;case o.EVENT_MOVE:if(t.distance<e.options.drag_min_distance&&o.detection.current.name!=this.name)return;if(o.detection.current.name!=this.name&&(o.detection.current.name=this.name,e.options.correct_for_drag_min_distance&&t.distance>0)){var n=Math.abs(e.options.drag_min_distance/t.distance);o.detection.current.startEvent.center.pageX+=t.deltaX*n,o.detection.current.startEvent.center.pageY+=t.deltaY*n,t=o.detection.extendEventData(t)}(o.detection.current.lastEvent.drag_locked_to_axis||e.options.drag_lock_to_axis&&e.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var i=o.detection.current.lastEvent.direction;t.drag_locked_to_axis&&i!==t.direction&&(t.direction=o.utils.isVertical(i)?t.deltaY<0?o.DIRECTION_UP:o.DIRECTION_DOWN:t.deltaX<0?o.DIRECTION_LEFT:o.DIRECTION_RIGHT),this.triggered||(e.trigger(this.name+"start",t),this.triggered=!0),e.trigger(this.name,t),e.trigger(this.name+t.direction,t),(e.options.drag_block_vertical&&o.utils.isVertical(t.direction)||e.options.drag_block_horizontal&&!o.utils.isVertical(t.direction))&&t.preventDefault();break;case o.EVENT_END:this.triggered&&e.trigger(this.name+"end",t),this.triggered=!1}}},o.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(t,e){switch(t.eventType){case o.EVENT_START:clearTimeout(this.timer),o.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==o.detection.current.name&&e.trigger("hold",t)},e.options.hold_timeout);break;case o.EVENT_MOVE:t.distance>e.options.hold_threshold&&clearTimeout(this.timer);break;case o.EVENT_END:clearTimeout(this.timer)}}},o.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==o.EVENT_END&&e.trigger(this.name,t)}},o.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(t,e){if(t.eventType==o.EVENT_END){if(e.options.swipe_max_touches>0&&t.touches.length<e.options.swipe_min_touches&&t.touches.length>e.options.swipe_max_touches)return;(t.velocityX>e.options.swipe_velocity||t.velocityY>e.options.swipe_velocity)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},o.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(t,e){if(t.eventType==o.EVENT_END&&"touchcancel"!=t.srcEvent.type){var n=o.detection.previous,i=!1;if(t.deltaTime>e.options.tap_max_touchtime||t.distance>e.options.tap_max_distance)return;n&&"tap"==n.name&&t.timeStamp-n.lastEvent.timeStamp<e.options.doubletap_interval&&t.distance<e.options.doubletap_distance&&(e.trigger("doubletap",t),i=!0),(!i||e.options.tap_always)&&(o.detection.current.name="tap",e.trigger(o.detection.current.name,t))}}},o.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,e){return e.options.prevent_mouseevents&&t.pointerType==o.POINTER_MOUSE?void t.stopDetect():(e.options.prevent_default&&t.preventDefault(),void(t.eventType==o.EVENT_START&&e.trigger(this.name,t)))}},o.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(t,e){if(o.detection.current.name!=this.name&&this.triggered)return e.trigger(this.name+"end",t),void(this.triggered=!1);if(!(t.touches.length<2))switch(e.options.transform_always_block&&t.preventDefault(),t.eventType){case o.EVENT_START:this.triggered=!1;break;case o.EVENT_MOVE:var n=Math.abs(1-t.scale),i=Math.abs(t.rotation);if(n<e.options.transform_min_scale&&i<e.options.transform_min_rotation)return;o.detection.current.name=this.name,this.triggered||(e.trigger(this.name+"start",t),this.triggered=!0),e.trigger(this.name,t),i>e.options.transform_min_rotation&&e.trigger("rotate",t),n>e.options.transform_min_scale&&(e.trigger("pinch",t),e.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case o.EVENT_END:this.triggered&&e.trigger(this.name+"end",t),this.triggered=!1}}},o.plugins.fakeMultitouch=function(){var t=!1;o.HAS_POINTEREVENTS=navigator.msPointerEnabled&&navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>=1,o.event.getTouchList=function(e,n){if(o.HAS_POINTEREVENTS)return o.PointerEvent.getTouchList();if(e.touches)return e.touches;if(n==o.EVENT_START&&(t=!1),e.shiftKey){t||(t={pageX:e.pageX,pageY:e.pageY});var i=t.pageX-e.pageX,r=t.pageY-e.pageY;return[{identifier:1,pageX:t.pageX-i-50,pageY:t.pageY-r+50,target:e.target},{identifier:2,pageX:t.pageX+i+50,pageY:t.pageY+r-50,target:e.target}]}return t=!1,[{identifier:1,pageX:e.pageX,pageY:e.pageY,target:e.target}]}},o.plugins.showTouches=function(t){function e(){for(var t in i)i.hasOwnProperty(t)&&!r[t]&&(document.body.removeChild(i[t]),delete i[t])}var n="position:absolute;z-index:9999;left:0;top:0;height:14px;width:14px;border:solid 2px #777;background:rgba(255,255,255,.7);border-radius:20px;pointer-events:none;margin-top:-9px;margin-left:-9px;",i={},r={};o.detection.register({name:"show_touches",priority:0,handler:function(a){if(r={},a.pointerType!=o.POINTER_MOUSE&&!t)return void e();for(var s=0,c=a.touches.length;c>s;s++){var l=a.touches[s],h=l.identifier;if(r[h]=l,!i[h]){var u=document.createElement("div");u.setAttribute("style",n),document.body.appendChild(u),i[h]=u}i[h].style.left=l.pageX+"px",i[h].style.top=l.pageY+"px"}e()}})},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("hammer",[],function(){return o}):"object"==typeof module&&"object"==typeof module.exports?module.exports=o:t.Hammer=o}(this),define("scalejs.canvas/utils",[],function(){var t={left:function(){return 0},top:function(){return 0},center:function(t){return-t/2},right:function(t){return-t},bottom:function(t){return-t}},e={left:function(t){return t},top:function(t){return t},center:function(t,e){return t-e/2},right:function(t,e){return t-e},bottom:function(t,e){return t-e}};return{getOffset:t,applyOffset:e}}),define("scalejs.canvas/group",["./utils"],function(t){return function(e){function n(t){this.type="group",this.className="group",this.parent=t.parent||e,this.id=t.id||t.parent.children.length,this.data=t.data||{},this.fontFamily=t.fontFamily||"",this.fontSize=t.fontSize||0,this.originX=t.originX||"left",this.originY=t.originY||"top",this.left=t.left||0,this.top=t.top||0,this.width=t.width||0,this.height=t.height||0,this.angle=t.angle||0,this.scaleX=t.scaleX||1,this.scaleY=t.scaleY||1,this.backFill=t.backFill||"",this.opacity=t.opacity||1,this.offset={left:0,top:0},this.pos={left:0,top:0},this.extents={left:0,top:0,right:0,bottom:0},this.children=[]}return n.prototype.getExtents=function(){return this.extents},n.prototype.calcBounds=function(){if(this.fontFamily&&this.fontSize)if(this.font=this.fontSize+"px "+this.fontFamily,this.font!==e.curFont){var n=e.curFont;e.context.font=this.font,e.curFont=this.font,e.curFontSize=this.fontSize;for(var o=0;o<this.children.length;o+=1)this.children[o].calcBounds();this.curFont=n,e.context.restore()}else for(var o=0;o<this.children.length;o+=1)this.children[o].calcBounds();else{this.font=void 0;for(var o=0;o<this.children.length;o+=1)this.children[o].calcBounds()}if(this.children.length>0){var o,i=this.children[0].extents;for(this.extents.left=i.left,this.extents.top=i.top,this.extents.right=i.right,this.extents.bottom=i.bottom,o=1;o<this.children.length;o+=1)i=this.children[o].extents,i.left<this.extents.left&&(this.extents.left=i.left),i.top<this.extents.top&&(this.extents.top=i.top),i.right>this.extents.right&&(this.extents.right=i.right),i.bottom>this.extents.bottom&&(this.extents.bottom=i.bottom)}else this.extents.left=0,this.extents.top=0,this.extents.right=0,this.extents.bottom=0;this.offset.left=t.getOffset[this.originX](this.width),this.offset.top=t.getOffset[this.originY](this.height),this.pos.left=this.left+this.offset.left,this.pos.top=this.top+this.offset.top,this.radianAngle=this.angle*Math.PI/180},n.prototype.render=function(){if(this.opacity>0){if(e.context.save(),this.opacity<1&&(e.context.globalAlpha*=this.opacity),e.context.translate(this.pos.left,this.pos.top),e.context.scale(this.scaleX,this.scaleY),e.context.rotate(this.radianAngle),this.backFill&&this.width>0&&this.height>0&&(e.context.fillStyle=this.backFill,e.context.fillRect(0,0,this.width,this.height)),this.font&&this.font!==e.curFont){var t=e.curFont,n=e.curFontSize;e.context.font=this.font,e.curFont=this.font,e.curFontSize=this.fontSize;for(var o=0;o<this.children.length;o+=1)this.children[o].calcBounds();e.curFont=t,e.curFontSize=n}else for(var o=0;o<this.children.length;o+=1)this.children[o].calcBounds();e.context.restore()}},n.prototype.isPointIn=function(t,e,n){var o,i,r=Math.sin(-this.radianAngle),a=Math.cos(-this.radianAngle);if(t-=this.pos.left,e-=this.pos.top,t/=this.scaleX,e/=this.scaleY,o=t,t=t*a-e*r,e=o*r+e*a,this.backFill)return t>=0&&e>=0&&t<=this.width&&e<=this.height;for(i=0;i<this.children.length;i+=1)if(this.children[i].isPointIn(t,e,n))return!0;return!1},n.prototype.mouseDownEvent=function(t,n,o){var i,r,a=Math.sin(-this.radianAngle),s=Math.cos(-this.radianAngle);for(e.context.save(),t-=this.pos.left,n-=this.pos.top,t/=this.scaleX,n/=this.scaleY,i=t,t=t*s-n*a,n=i*a+n*s,r=0;r<this.children.length;r+=1)this.children[r].isPointIn(t,n,o)&&this.children[r].mouseDownEvent(t,n,o);this.onmousedown&&this.onmousedown(this.data.data),e.context.restore()},n.prototype.remove=function(){this.parent.children.splice(this.parent.children.indexOf(this),1)},n}}),define("scalejs.canvas/rect",["./utils"],function(t){return function(e){function n(t){this.type="obj",this.className="rect",this.parent=t.parent||e,this.id=t.id||t.parent.children.length,this.data=t.data||{},this.originX=t.originX||"left",this.originY=t.originY||"top",this.left=t.left||0,this.top=t.top||0,this.width=t.width||0,this.height=t.height||0,this.fill=t.fill||"#000",this.offset={left:0,top:0},this.pos={left:0,top:0},this.extents={left:0,top:0,right:0,bottom:0}}return n.prototype.getExtents=function(){return this.extents},n.prototype.calcBounds=function(){this.offset.left=t.getOffset[this.originX](this.width),this.offset.top=t.getOffset[this.originY](this.height),this.pos.left=this.left+this.offset.left,this.pos.top=this.top+this.offset.top,this.extents.left=this.pos.left,this.extents.top=this.pos.top,this.extents.right=this.pos.left+this.width,this.extents.bottom=this.pos.top+this.height},n.prototype.render=function(){this.width>0&&this.height>0&&(e.context.fillStyle=this.fill,e.context.fillRect(this.pos.left,this.pos.top,this.width,this.height))},n.prototype.isPointIn=function(t,e){return t>=this.extents.left&&e>=this.extents.top&&t<=this.extents.right&&e<=this.extents.bottom},n.prototype.mouseDownEvent=function(){this.onmousedown&&this.onmousedown(this.data.data)},n.prototype.remove=function(){this.parent.children.splice(this.parent.children.indexOf(this),1)},n}}),define("scalejs.canvas/text",["./utils"],function(t){return function(e){function n(t){this.type="obj",this.className="text",this.parent=t.parent||e,this.id=t.id||t.parent.children.length,this.data=t.data||{},this.fontFamily=t.fontFamily||"",this.fontSize=t.fontSize||0,this.text=t.text||"",this.originX=t.originX||"left",this.originY=t.originY||"top",this.left=t.left||0,this.top=t.top||0,this.width=t.width||0,this.height=t.height||0,this.angle=t.angle||0,this.fill=t.fill||"#000",this.opacity=t.opacity||1,this.offset={left:0,top:0},this.pos={left:0,top:0},this.extents={left:0,top:0,right:0,bottom:0}}return n.prototype.setText=function(t){this.fontFamily&&this.fontSize?(this.font=this.fontSize+"px "+this.fontFamily,this.height=this.fontSize):(this.font=void 0,this.height=e.curFontSize),!this.font||this.font===this.calcFont&&this.calcText===this.text?this.font||e.curFont===this.calcFont&&this.calcText===this.text||(this.text=t,this.width=e.context.measureText(t||"").width,this.calcText=this.text,this.calcFont=e.curFont):(e.context.save(),e.context.font=this.font,this.text=t,this.width=e.context.measureText(t||"").width,e.context.restore(),this.calcText=this.text,this.calcFont=this.font)},n.prototype.getExtents=function(){return this.extents},n.prototype.calcBounds=function(){this.setText(this.text),this.offset.left=t.getOffset[this.originX](this.width),this.offset.top=t.getOffset[this.originY](this.height)+this.height,this.pos.left=this.left+this.offset.left,this.pos.top=this.top+this.offset.top,this.extents.left=this.pos.left,this.extents.right=this.pos.left,this.extents.top=this.pos.top+this.width,this.extents.bottom=this.pos.top+this.height},n.prototype.render=function(){this.opacity>0&&this.text.length>0&&(e.context.save(),this.font&&this.font!==e.curFont&&(e.context.font=this.font),this.fill&&(e.context.fillStyle=this.fill),this.opacity<1&&(e.context.globalAlpha*=this.opacity),e.context.translate(this.left,this.top),this.angle&&e.context.rotate(this.angle*Math.PI/180),e.context.fillText(this.text,this.offset.left,this.offset.top),e.context.restore())},n.prototype.isPointIn=function(t,e){return t>=this.extents.left&&e>=this.extents.top&&t<=this.extents.right&&e<=this.extents.bottom},n.prototype.mouseDownEvent=function(){this.onmousedown&&this.onmousedown(this.data.data)},n.prototype.remove=function(){this.parent.children.splice(this.parent.children.indexOf(this),1)},n}}),define("scalejs.canvas/arc",["./utils"],function(){var t=.5*Math.PI;return function(e){function n(t){this.type="obj",this.className="arc",this.parent=t.parent||e,this.id=t.id||t.parent.children.length,this.data=t.data||{},this.originX=t.originX||"center",this.originY=t.originY||"center",this.left=t.left||0,this.top=t.top||0,this.width=t.width||0,this.height=t.height||0,this.radius=0,this.innerRadius=t.innerRadius||0,this.outerRadius=t.outerRadius||0,this.thickness=0,this.startAngle=t.startAngle||0,this.endAngle=t.endAngle||0,this.fill=t.fill||"#000",this.opacity=t.opacity||1,this.offset={left:0,top:0},this.pos={left:0,top:0},this.extents={left:0,top:0,right:0,bottom:0}}return n.prototype.getExtents=function(){return this.extents},n.prototype.calcBounds=function(){this.width=this.height=2*this.outerRadius,this.offset.left=this.left,this.offset.top=this.top,this.extents.left=this.offset.left-this.outerRadius,this.extents.right=this.offset.left+this.outerRadius,this.extents.top=this.offset.top-this.outerRadius,this.extents.bottom=this.offset.top+this.outerRadius,this.thickness=this.outerRadius-this.innerRadius,this.radius=this.thickness/2+this.innerRadius},n.prototype.render=function(){this.opacity>0&&0!==this.thickness&&this.endAngle!==this.startAngle&&(e.context.beginPath(),this.fill&&(e.context.strokeStyle=this.fill),this.opacity<1&&(e.context.globalAlpha*=this.opacity),e.context.lineWidth=this.thickness,e.context.arc(this.offset.left,this.offset.top,this.radius,this.startAngle-t,this.endAngle-t),e.context.stroke())},n.prototype.isPointIn=function(e,n){var o=(e-this.offset.left)*(e-this.offset.left)+(n-this.offset.top)*(n-this.offset.top),i=Math.atan2(n-this.offset.top,e-this.offset.left)+t;return 0>i&&(i+=2*Math.PI),o<=this.outerRadius*this.outerRadius&&o>=this.innerRadius*this.innerRadius&&i>=this.startAngle&&i<=this.endAngle},n.prototype.mouseDownEvent=function(){this.onmousedown&&this.onmousedown(this.data.data)},n.prototype.remove=function(){this.parent.children.splice(this.parent.children.indexOf(this),1)},n}}),define("scalejs.canvas/selector",["./group","./rect","./text","./arc"],function(t,e,n,o){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};return function r(a){function s(t){this.isTransition=t.isTransition||!1,this.durationTime=t.durationTime||250,this.easeFunc=t.easeFunc||function(t){return t},this.endFunc=void 0,this.object=t.object||a,this.objects=t.objects||[],this.enterObjects=t.enterObjects||[],this.updateObjects=t.updateObjects||[],this.exitObjects=t.exitObjects||[]}var r,c={group:t(a),rect:e(a),text:n(a),arc:o(a)};return s.prototype.select=function(t){var e,n,o,i=[];for(n=0;n<this.objects.length;n+=1)if(e=this.objects[n],void 0!==e.children&&e.children.length>0)for(o=0;o<e.children.length;o+=1)if(e.children[o].className===t){i.push(e.children[o]);break}return new s({isTransition:this.isTransition,durationTime:this.durationTime,easeFunc:this.easeFunc,object:i.length>0?i[0].parent:this.objects.length>0?this.objects[0]:this.object,objects:i})},s.prototype.selectAll=function(t){var e,n,o,i=[];for(n=0;n<this.objects.length;n+=1)if(e=this.objects[n],void 0!==e.children&&e.children.length>0)for(o=0;o<e.children.length;o+=1)e.children[o].className===t&&i.push(e.children[o]);return new s({isTransition:this.isTransition,durationTime:this.durationTime,easeFunc:this.easeFunc,object:i.length>0?i[0].parent:this.objects.length>0?this.objects[0]:this.object,objects:i})},s.prototype.filter=function(t){var e,n=[];for(e=0;e<this.objects.length;e+=1)t.call(this.objects[e],this.objects[e].data.data)&&n.push(this.objects[e]);return new s({isTransition:this.isTransition,durationTime:this.durationTime,easeFunc:this.easeFunc,object:n.length>0?n[0].parent:this.objects.length>0?this.objects[0]:this.object,objects:n})},s.prototype.data=function(t,e){var n,o={};for(n=0;n<t.length;n+=1){var i=e(t[n]);t[n]={id:i,data:t[n]},o[i]=t[n]}return this.exitObjects=[],this.objects=this.objects.filter(function(t){return o[t.data.id]?(t.data.data=o[t.data.id].data,o[t.data.id]=void 0,!0):(this.exitObjects.push(t),!1)},this),this.enterObjects=t.filter(function(t){return o[t.id]}),this},s.prototype.enter=function(){return{parentSelector:this,append:function(t,e){return e=e||{},new s({isTransition:this.parentSelector.isTransition,durationTime:this.parentSelector.durationTime,easeFunc:this.parentSelector.easeFunc,objects:this.parentSelector.enterObjects.map(function(n){e.parent=this.parentSelector.object,e.data=n;var o=new c[t](e);return this.parentSelector.object.children.push(o),o},this)})}}},s.prototype.update=function(){var t=new s(this);return t.objects=this.updateObjects,t},s.prototype.exit=function(){var t=new s(this);return t.objects=this.exitObjects,t},s.prototype.on=function(t,e){return t="on"+t,this.objects.forEach(function(n){n[t]=e}),this},s.prototype.append=function(t,e){e=e||{};var n=new s(this);return n.objects=this.objects.map(function(n){e.parent=n,e.data=n.data;var o=new c[t](e);return n.children.push(o),o}),n},s.prototype.remove=function(){return this.objects.forEach(function(t){t.parent.children.splice(t.parent.children.indexOf(t),1)}),this.objects=[],this},s.prototype.attr=function(t,e){return this.objects.forEach(function(n){var o=e;"function"==typeof o&&(o=o(attrFunc.call(n,n.data.data))),"function"==typeof n["set"+t]?n["set"+t](o):n[t]=o}),this},s.prototype.sort=function(t){return this.objects.sort(function(e,n){return t(e.data.data,n.data.data)}),this},s.prototype.order=function(){return this.objects.forEach(function(t){t.parent.children.splice(t.parent.children.indexOf(t),1),t.parent.children.push(t)}),this},s.prototype.each=function(t,e){return void 0===e||"start"===e?this.objects.forEach(function(e){t.call(e,e.data.data)}):"end"===e&&this.objects.forEach(function(e){e.tweenEndFunc=t}),this},s.prototype.transition=function(){var t=new s(this);return t.isTransition=!0,t.objects.forEach(function(t){t.tweenEndFunc=void 0}),t},s.prototype.duration=function(t){return this.durationTime=t,this},s.prototype.ease=function(t){return this.easeFunc=t,this},s.prototype.tween=function(t,e){var n=(new Date).getTime(),o=n+this.durationTime;return this.objects.forEach(function(t){t.animationIndex>=0||(t.animationIndex=a.animations.length,a.animations[t.animationIndex]=t),t.tweenFunc=e.call(t,t.data.data),t.easeFunc=this.easeFunc,t.timeStart=n,t.timeEnd=o,t.duration=this.durationTime},this),void 0===a.requestFrameID&&a.animations.length>0&&(a.requestFrameID=i(function(){a.onAnimationFrame()})),this},s.prototype.startRender=function(){},s.prototype.pumpRender=function(){return a.pumpRender(),r},r=new s({objects:[a]}),r[0]=[a.element],r}}),define("scalejs.canvas/canvas",["hammer","./selector"],function(t,e){function n(t){this.type="canvas",this.className="canvas",this.element=t,this.context=t.getContext("2d"),this.parent=this,this.children=[],this.animations=[],this.requestFrameID=void 0,this.curFont="",this.curFontSize=0}function o(o){function i(t){if(t.gesture&&(t.gesture.preventDefault(),1===t.gesture.touches.length)){var e,n=t.gesture.touches[0],o=n.target.style.display;n.target.style.display="",e=n.target.getBoundingClientRect(),n.target.style.display=o,t.offsetX=n.pageX-e.left,t.offsetY=n.pageY-e.top,r.context.save(),r.context.setTransform(1,0,0,1,0,0),r.children.forEach(function(e){e.isPointIn(t.offsetX,t.offsetY)&&e.mouseDownEvent.call(e,t.offsetX,t.offsetY,t)}),r.context.restore()}}var r=new n(o),a=t(r.element,{prevent_default:!0});return a.on("click tap",i),e(r)}var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};return n.prototype.setwidth=function(t){this.element.width=t},n.prototype.setheight=function(t){this.element.height=t},n.prototype.onAnimationFrame=function(){if(this.animations.length<=0)return void(this.requestFrameID=void 0);var t=this;this.requestFrameID=i(function(){t.onAnimationFrame()});var e,n,o=(new Date).getTime();for(e=0;e<this.animations.length;e+=1){n=this.animations[e];var r=Math.min((o-n.timeStart)/n.duration,1);n.tweenFunc.call(n,n.easeFunc(r)),o>=n.timeEnd?(n.animationIndex=void 0,n.tweenEndFunc&&n.tweenEndFunc.call(n,n.data.data),this.animations.splice(e,1),e-=1):n.animationIndex=e}this.pumpRender()},n.prototype.pumpRender=function(){this.context.setTransform(1,0,0,1,0,0),this.context.font="40px Times New Roman",this.curFont="40px Times New Roman",this.curFontSize=40;for(var t=0;t<this.children.length;t+=1)this.children[t].calcBounds();this.context.clearRect(0,0,this.element.width,this.element.height);for(var t=0;t<this.children.length;t+=1)this.children[t].render()},n.prototype.startRender=function(){},n.prototype.render=function(){this.pumpRender()},{select:o}}),define("scalejs.canvas",["scalejs!core","./scalejs.canvas/canvas"],function(t,e){return t.registerExtension({canvas:e}),e}),define("scalejs.visualization-d3/treemap",["d3"],function(t){return function(){function e(e){if(void 0!==g){var n,o=h/e.dx,i=u/e.dy;d.domain([e.x,e.x+e.dx]),p.domain([e.y,e.y+e.dy]),n=g.selectAll("group").transition().duration(t.event?t.event.altKey?7500:1e3:1e3).tween("groupZoom",function(e){var n=t.interpolate(this.left,d(e.x)),o=t.interpolate(this.top,p(e.y)),i=this;return function(t){i.left=n(t),i.top=o(t)}}),n.select("rect").tween("rectZoom",function(e){var n=t.interpolate(this.width,Math.max(o*e.dx-1,0)),r=t.interpolate(this.height,Math.max(i*e.dy-1,0)),a=this;return function(t){a.width=n(t),a.height=r(t)}}),n.select("text").tween("textZoom",function(e){var n=t.interpolate(this.left,o*e.dx/2),r=t.interpolate(this.top,i*e.dy/2),a=t.interpolate(this.opacity,e.dx-4>=this.width&&e.dy-2>=this.height?1:0),s=this;return function(t){s.left=n(t),s.top=r(t),s.opacity=a(t)}}),t.event&&t.event.stopPropagation()}}function n(t){var e=t.enter().append("group").each(function(t){this.originX="center",this.originY="center",this.left=t.x,this.top=t.y
});e.append("rect").each(function(t){this.width=Math.max(t.dx-1,0),this.height=Math.max(t.dy-1,0),this.fill=t.color}),e.append("text").each(function(t){this.originX="center",this.originY="center",this.left=t.dx/2,this.top=t.dy/2,this.fontSize=11,this.setText(t.name),this.opacity=t.dx-4>=this.width&&t.dy-2>=this.height?1:0})}function o(){if(void 0!==g){var e,o,i;f=c(),i=m.size([h,u]).nodes(f).filter(function(t){return!t.children}),e=g.selectAll("group").data(i,function(t){return t.name}),o=e.transition().duration(1e3).tween("groupTween",function(e){var n=t.interpolate(this.left,e.x),o=t.interpolate(this.top,e.y),i=this;return function(t){i.left=n(t),i.top=o(t)}}),o.select("rect").tween("rectTween",function(e){var n=t.interpolate(this.width,Math.max(e.dx-1,0)),o=t.interpolate(this.height,Math.max(e.dy-1,0)),i=t.interpolate(this.fill,e.color),r=this;return function(t){r.width=n(t),r.height=o(t),r.fill=i(t)}}),o.select("text").tween("textTween",function(e){var n,o=t.interpolate(this.left,e.dx/2),i=t.interpolate(this.top,e.dy/2),r=this;return this.name!==e.name?(this.setText(e.name),n=t.interpolate(this.opacity,e.dx-4>=this.width&&e.dy-2>=this.height?1:0),function(t){r.left=o(t),r.top=i(t),r.opacity=n(t)}):function(t){r.left=o(t),r.top=i(t)}}),n(e),o=e.exit().remove()}}function i(e,o,i,r,a){if(void 0===g){s=e,c=r,h=o,u=i,d=t.scale.linear().range([0,h]),p=t.scale.linear().range([0,u]),l=a;var v,y;f=c(),m=t.layout.treemap().round(!1).size([h,u]).sticky(!1).mode("squarify").value(function(t){return t.size}).children(function(t){return t.children}),g=s.append("group").each(function(){this.originX="center",this.originY="center"}),y=m.nodes(f).filter(function(t){return!t.children}),v=g.selectAll("group").data(y,function(t){return t.name}),n(v),s.pumpRender()}}function r(t,e){h=t,u=e,d.range([0,h]),p.range([0,u])}function a(){void 0!==g&&(g.remove(),g=void 0)}var s,c,l,h,u,d,p,f,m,g;return{init:i,update:o,zoom:e,resize:r,remove:a,enableRotate:!1}}}),define("scalejs.visualization-d3/treemapCustom",["d3"],function(t){function e(){function t(t){return(t-e[0])/o*i+n[0]}var e=[0,1],n=[0,1],o=1,i=1;return t.domain=function(n){return arguments.length?(e=n,o=e[1]-e[0],t):e},t.range=function(e){return arguments.length?(n=e,i=n[1]-n[0],t):n},t}return function(){function n(t){for(var e=[];t!==w;)e.push(t),t=t.parent;return e.push(t),e}function o(t,e){for(var n=0;e.indexOf(t)<0;)n+=1,t=t.parent;return n}function i(t,e){if(!t.parent)return{x:t.x,y:t.y,dx:t.dx,dy:t.dy};var n=_/P,o=_/S,r=i(t.parent);return e?{x:r.dx/t.parent.dx*(t.x-t.parent.x)+r.x+n/2,y:r.dy/t.parent.dy*(t.y-t.parent.y)+r.y+o/2,dx:r.dx/t.parent.dx*t.dx-n,dy:r.dy/t.parent.dy*t.dy-o}:{x:r.dx/t.parent.dx*(t.x-t.parent.x)+r.x+n,y:r.dy/t.parent.dy*(t.y-t.parent.y)+r.y+o,dx:r.dx/t.parent.dx*t.dx-2*n,dy:r.dy/t.parent.dy*t.dy-2*o}}function r(t){var e,n=1;return 0===t.indexOf("rgba")&&(e=t.substring(5,t.length-1).replace(/ /g,"").split(","),n=e.pop(),t="rgb("+e.join(",")+")"),{color:t,opacity:n}}function a(e,n){return function(e){var o,a,s,c,l=i(e,e),h=e.children&&e.lvl<w.curMaxLevel?M(e.lvl/(w.maxlvl-1)):e.color,u=r(h),d=t.interpolate(this.backFill,u.color),p=t.interpolate(this.opacity,n*u.opacity),f=this;return e.sx=x(l.x),e.sy=E(l.y),e.sdx=Math.max(P*l.dx,0),e.sdy=Math.max(S*l.dy,0),o=t.interpolate(this.left,e.sx),a=t.interpolate(this.top,e.sy),s=t.interpolate(this.width,e.sdx),c=t.interpolate(this.height,e.sdy),h!==this.backFill?function(t){f.left=o(t),f.top=a(t),f.width=s(t),f.height=c(t),f.backFill=d(t),f.opacity=p(t)}:function(t){f.left=o(t),f.top=a(t),f.width=s(t),f.height=c(t),f.opacity=p(t)}}}function s(){return function(e){var n,o=(_*e.lvl,t.interpolate(this.left,e.sdx/2)),i=t.interpolate(this.top,e.sdy/2),a=r(e.fontColor),s=t.interpolate(this.fill,a.color),c=this;return n=p.allowTextOverflow?t.interpolate(this.opacity,e.children&&e.lvl<w.curMaxLevel?0:a.opacity):t.interpolate(this.opacity,!(e.children&&e.lvl<w.curMaxLevel)&&e.sdx-1>=this.width&&e.sdy-1>=this.height?a.opacity:0),this.fontFamily=e.fontFamily,this.fontSize=e.fontSize,function(t){c.left=o(t),c.top=i(t),c.opacity=n(t),c.fill=s(t)}}}function c(e){void 0!==b&&(l(e),t.event&&t.event.stopPropagation())}function l(e,c){if(void 0!==b){c=void 0!==c?c:1e3,w=m();var l,h,u,d,f,R,D,A=n(e);l=T.size([v,y]).nodes(w).filter(function(t){return o(t,A)<w.maxVisibleLevels}).sort(function(t,e){return t.depth===e.depth?e.value-t.value:t.depth-e.depth}),h=b.selectAll("group").data(l,function(t){return t.id}),u=h.enter().append("group").each(function(t){t.parent?(this.left=x(t.parent.x)+P*t.parent.dx/2,this.top=E(t.parent.y)+S*t.parent.dy/2):(this.left=x(t.x)+P*t.dx/2,this.top=E(t.y)+S*t.dy/2),newColor=r(t.children&&t.lvl<w.curMaxLevel?M(t.lvl/(w.maxlvl-1)):t.color),this.backFill=newColor.color,this.opacity=0}),u.filter(function(t){return!(t.children&&t.lvl<w.curMaxLevel)}).on("mousedown",function(t){g(t.parent||w)}),R=u.append("text").each(function(t){this.originX="center",this.originY="center",this.left=0,this.top=0,this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.setText(t.name),this.opacity=p.allowTextOverflow?t.parent&&t.parent.children&&t.parent.lvl<w.curMaxLevel?1:0:t.parent&&t.parent.children&&t.parent.lvl<w.curMaxLevel&&P*t.dx-2*_>=this.width&&S*t.dy-2*_>=this.height?1:0}),P=v/e.dx,S=y/e.dy,x.domain([e.x,e.x+e.dx]),E.domain([e.y,e.y+e.dy]),u.transition().duration(c).tween("groupTween",a(e,1)),R.transition().duration(c).tween("textTween",s(e)),h.filter(function(t){return t.children&&t.lvl<w.curMaxLevel}).on("mousedown",null),h.filter(function(t){return!(t.children&&t.lvl<w.curMaxLevel)}).on("mousedown",function(t){g(t.parent||w)}),h.transition().duration(c).tween("groupTween",a(e,1)),f=h.select("text").transition().duration(c).tween("textTween",s(e)),d=h.exit().transition().duration(c).tween("groupTween",function(e){var n=i(e.parent||e,e.parent||e),o=t.interpolate(this.left,x(n.x+n.dx/2)),r=t.interpolate(this.top,E(n.y+n.dy/2)),a=t.interpolate(this.width,0),s=t.interpolate(this.height,0),c=t.interpolate(this.opacity,0),l=this;return function(t){l.left=o(t),l.top=r(t),l.width=a(t),l.height=s(t),l.opacity=c(t)}}).each(function(){this.remove()},"end"),D=d.select("text").each(function(t){t.sdx=0,t.sdy=0}).tween("textTween",s(e))}}function h(i,r,a,s,c,h,u){if(void 0===b){f=r,m=c,v=a,y=s,x=e().range([0,v]),E=e().range([0,y]),g=h;var d,p,_=n(u);w=m(),T=t.layout.treemap().round(!1).size([v,y]).sticky(!1).mode("squarify").value(function(t){return t.size}).children(function(t){return t.children}),b=f.append("group").each(function(){this.fontFamily="Times New Roman",this.fontSize=11}),p=T.nodes(w).filter(function(t){return o(t,_)<w.maxVisibleLevels}).sort(function(t,e){return t.depth===e.depth?e.value-t.value:t.depth-e.depth}),d=b.selectAll("group").data(p,function(t){return t.id}),P=v/u.dx,S=y/u.dy,x.domain([u.x,u.x+u.dx]),E.domain([u.y,u.y+u.dy]),l(u,0)}}function u(t,e){v=t,y=e,x.range([0,v]),E.range([0,y])}function d(){void 0!==b&&(b.remove(),b=void 0)}var p,f,m,g,v,y,x,E,w,T,b,P,S,_=3,M=t.interpolate("#888","#fff");return p={init:h,update:l,zoom:c,resize:u,remove:d,enableRotate:!1,enableRotateDefault:!1,enableRootZoom:!0,fontSize:11,fontFamily:"Times New Roman",allowTextOverflow:!1}}}),define("scalejs.visualization-d3/sunburst",["d3"],function(t){return function(){function e(t,n){return t===n?!0:t.children?t.children.some(function(t){return e(t,n)}):!1}function n(e){return function(n){var o=t.interpolate(this.old.x,n.x),i=t.interpolate(this.old.y,n.y),r=t.interpolate(this.old.dx,n.dx),a=t.interpolate(this.old.dy,n.dy),s=t.interpolate(this.old.xd,[e.x,e.x+e.dx]),c=t.interpolate(this.old.yd,[e.y,1]),l=t.interpolate(this.old.yr,[e.y?20:0,m]),h=this;return function(t){h.old={x:o(t),y:i(t),dx:r(t),dy:a(t),xd:s(t),yd:c(t),yr:l(t)},g.domain(h.old.xd),v.domain(h.old.yd).range(h.old.yr);var e=E({x:h.old.x,y:h.old.y,dx:h.old.dx,dy:h.old.dy});h.initialize(e,{left:h.left,top:h.top,width:h.width,height:h.height,d3fabricOrgPath:e})}}}function o(n){return function(o){var i=t.interpolate(this.old.x,o.x),r=t.interpolate(this.old.y,o.y),a=t.interpolate(this.old.dx,o.dx),s=t.interpolate(this.old.dy,o.dy),c=this;return function(t){var l,h,u,d,p,f,m;c.old={x:i(t),y:r(t),dx:a(t),dy:s(t)},o.w=this.width,o.h=this.height,l=g(c.old.x+c.old.dx/2),h=l-Math.PI/2,u=v(o.y)+2,d=180*l/Math.PI-90,d>90&&(d=(d+180)%360),c.originX=l>Math.PI?"right":"left",c.left=u*Math.cos(h),c.top=u*Math.sin(h),p=Math.max(0,v(c.old.y+c.old.dy)),f=Math.max(0,v(c.old.y)),m=(g(c.old.x+c.old.dx)-g(c.old.x))*v(c.old.y),c.opacity=e(n,o)&&p-f-4>=o.w&&(m-2>=o.h||v(c.old.y)<1)?1:0,c.angle=d}}}function i(e){if(void 0!==w){var i=w.selectAll("group").transition().duration(t.event?t.event.altKey?7500:1e3:1e3).tween("groupZoom",function(){var e=t.interpolate(this.left,p/2),n=t.interpolate(this.top,f/2),o=this;return function(t){o.left=e(t),o.top=n(t)}});i.select("path").tween("pathZoom",n(e)),i.select("text").tween("textZoom",o(e)),t.event&&t.event.stopPropagation()}}function r(t){var e=t.enter().append("group").each(function(){this.originX="center",this.originY="center",this.left=p/2,this.top=f/2,this.perPixelTargetFind=!0}).on("mousedown",function(t){var e=(new Date).getTime();500>e-T&&d(t),T=e});e.append("path").attr("d",function(t){return this.fill=t.color,this.old={x:t.x,y:t.y,dx:t.dx,dy:t.dy,xd:g.domain(),yd:v.domain(),yr:v.range()},E(t)}),e.append("text").each(function(t){this.originX=g(t.x+t.dx/2)>Math.PI?"right":"left",this.originY="center",this.fontSize=11,this.setText(t.name),t.bw=v(t.y+t.dy)-v(t.y),t.bh=(g(t.x+t.dx)-g(t.x))*v(t.y),this.opacity=t.bw-4>=this.width&&(t.bh-2>=this.height||v(t.y)<1)?1:0;var e=180*g(t.x+t.dx/2)/Math.PI-90;e>90&&(e=(e+180)%360),this.angle=e,this.left=(v(t.y)+2)*Math.cos(g(t.x+t.dx/2)-Math.PI/2),this.top=(v(t.y)+2)*Math.sin(g(t.x+t.dx/2)-Math.PI/2),this.old={x:t.x,y:t.y,dx:t.dx,dy:t.dy}})}function a(){if(void 0!==w){var e,n,i;y=u(),i=x.nodes(y),e=w.selectAll("group").data(i,function(t){return t.name}),n=e.transition().duration(1e3).tween("groupUpdate",function(){var e=t.interpolate(this.left,p/2),n=t.interpolate(this.top,f/2),o=this;return function(t){o.left=e(t),o.top=n(t)}}),n.select("path").tween("pathUpdate",function(e){var n=i[0],o=t.interpolate(this.old.x,e.x),r=t.interpolate(this.old.y,e.y),a=t.interpolate(this.old.dx,e.dx),s=t.interpolate(this.old.dy,e.dy),c=t.interpolate(this.old.xd,[n.x,n.x+n.dx]),l=t.interpolate(this.old.yd,[n.y,1]),h=t.interpolate(this.old.yr,[n.y?20:0,m]),u=t.interpolate(this.fill,e.color),d=this;return function(t){d.old={x:o(t),y:r(t),dx:a(t),dy:s(t),xd:c(t),yd:l(t),yr:h(t)},g.domain(d.old.xd),v.domain(d.old.yd).range(d.old.yr),d.fill=u(t);var e=E({x:d.old.x,y:d.old.y,dx:d.old.dx,dy:d.old.dy});d.initialize(e,{left:d.left,top:d.top,width:d.width,height:d.height,d3fabricOrgPath:e})}}),n.select("text").tween("textTween",o(i[0])),r(e),n=e.exit().remove()}}function s(e,n,o,i,a){if(void 0===w){h=e,u=i,p=n,f=o,m=Math.min(p,f)/2,g=t.scale.linear().range([0,2*Math.PI]),v=t.scale.linear().range([0,m]),d=a;var s,c;y=u(),x=t.layout.partition().value(function(t){return t.size}).children(function(t){return t.children}),w=h.append("group").each(function(){this.originX="center",this.originY="center"}),E=t.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,g(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,g(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,v(t.y))}).outerRadius(function(t){return Math.max(0,v(t.y+t.dy))}),c=x.nodes(y),s=w.selectAll("group").data(c,function(t){return t.name}),r(s),h.pumpRender()}}function c(t,e){p=t,f=e,m=Math.min(p,f)/2,v.range([0,m])}function l(){void 0!==w&&(w.remove(),w=void 0)}var h,u,d,p,f,m,g,v,y,x,E,w,T;return{init:s,update:a,zoom:i,resize:c,remove:l,enableRotate:!0}}}),define("scalejs.visualization-d3/sunburstCustom",["d3"],function(t){function e(){function t(t){return(t-e[0])/o*i+n[0]}var e=[0,1],n=[0,1],o=1,i=1;return t.domain=function(n){return arguments.length?(e=n,o=e[1]-e[0],t):e},t.range=function(e){return arguments.length?(n=e,i=n[1]-n[0],t):n},t}return function(){function n(t){for(var e=[];t!==M;)e.push(t),t=t.parent;return e.push(t),e}function o(t,e){for(var n=0;e.indexOf(t)<0;)n+=1,t=t.parent;return n}function i(t){var e,n=1;return 0===t.indexOf("rgba")&&(e=t.substring(5,t.length-1).replace(/ /g,"").split(","),n=e.pop(),t="rgb("+e.join(",")+")"),{color:t,opacity:n}}function r(t){return Math.max(0,Math.min(2*Math.PI,S(t.x)))}function a(t){return Math.max(0,Math.min(2*Math.PI,S(t.x+t.dx)))}function s(t){return Math.max(0,_(t.y))}function c(t){return Math.max(0,_(t.y+t.dy))}function l(e){return function(){var n=t.interpolate(S.domain(),[e.x,e.x+e.dx]),o=t.interpolate(_.domain(),[e.y,(M.curMaxLevel+1)/(M.maxlvl+1)]),i=t.interpolate(_.range(),[e.y?e.dy*P/2:0,P]);return function(t){S.domain(n(t)),_.domain(o(t)).range(i(t))}}}function h(e,n){return function(e){var o=t.interpolate(this.left,T/2),r=t.interpolate(this.top,b/2),a=i(e.color),s=t.interpolate(this.opacity,n*a.opacity),c=this;return function(t){c.left=o(t),c.top=r(t),c.opacity=s(t)}}}function u(){return function(e){var n=t.interpolate(this.old.x,e.x),o=t.interpolate(this.old.y,e.y),l=t.interpolate(this.old.dx,e.dx),h=t.interpolate(this.old.dy,e.dy),u=i(e.color),d=t.interpolate(this.fill,u.color),p=t.interpolate(this.opacity,u.opacity),f=this;return function(t){f.old.x=n(t),f.old.y=o(t),f.old.dx=l(t),f.old.dy=h(t),f.fill=d(t),f.opacity=p(t),this.innerRadius=s(f.old),this.outerRadius=c(f.old),this.startAngle=r(f.old),this.endAngle=a(f.old)}}}function d(e){return function(n){var o,l,h,u,d,p,f,m,g,v,x=t.interpolate(this.old.x,n.x),E=t.interpolate(this.old.y,n.y),w=t.interpolate(this.old.dx,n.dx),T=t.interpolate(this.old.dy,n.dy),b=i(n.fontColor),P=t.interpolate(this.fill,b.color),R=this;return o=y.allowTextOverflow?t.interpolate(this.opacity,b.opacity):t.interpolate(this.opacity,n.bw-4>=this.width&&(n.bh-2>=this.height||M===n&&_(n.y)<1)?b.opacity:0),function(t){R.old.x=x(t),R.old.y=E(t),R.old.dx=w(t),R.old.dy=T(t),p=c(R.old),f=s(R.old),m=r(R.old),g=a(R.old),v=(g-m)*f,R.fill=P(t),l=S(R.old.x+R.old.dx/2),h=l-Math.PI/2,u=_(n.y)+2,d=180*l/Math.PI-90,R.left=u*Math.cos(h),R.top=u*Math.sin(h),e!==n?(d>90&&(d=(d+180)%360),R.originX=l>Math.PI?"right":"left",this.opacity=y.allowTextOverflow?o(t):p-f-4>=this.width&&(v-2>=this.height||e===n&&1>f)?o(t):0):(d-=90,R.originX="center",R.originY="top",this.opacity=y.allowTextOverflow?o(t):p-f-4>=this.height&&(v-2>=this.width||e===n&&1>f)?o(t):0),R.angle=d}}}function p(e){void 0!==N&&O!==e&&(O=e,f(e),t.event&&t.event.stopPropagation())}function f(t,e){if(void 0!==N){e=void 0!==e?e:1e3,M=E();var i,c,p,f,m,g,v,x,P,D,A=n(t);i=R.nodes(M).filter(function(t){return o(t,A)<M.maxVisibleLevels}),c=N.selectAll("group").data(i,function(t){return t.id}),p=c.enter().append("group").each(function(){this.left=T/2,this.top=b/2,this.opacity=0}),g=p.append("arc").each(function(t){this.fill=t.color,this.outerRadius=this.innerRadius=s(t),this.endAngle=this.startAngle=(a(t)-r(t))/2,this.old={x:t.x,y:t.y,dx:t.dx,dy:t.dy}}).on("mousedown",w),P=p.append("text").each(function(t){M!==t?(this.originX=S(t.x+t.dx/2)>Math.PI?"right":"left",this.originY="center"):(this.originX="center",this.originY="top"),this.setText(t.name),t.bw=_(t.y+t.dy)-_(t.y),t.bh=(S(t.x+t.dx)-S(t.x))*_(t.y);var e=180*S(t.x+t.dx/2)/Math.PI-90;M!==t?(e>90&&(e=(e+180)%360),this.opacity=y.allowTextOverflow?1:t.bw-4>=this.height&&(t.bh-2>=this.width||M===t&&_(t.y)<1)?1:0):(e-=90,this.opacity=y.allowTextOverflow?1:t.bw-4>=this.width&&(t.bh-2>=this.height||M===t&&_(t.y)<1)?1:0),this.angle=e,this.left=(Math.max(_(t.y),0)+2)*Math.cos(S(t.x+t.dx/2)-Math.PI/2),this.top=(Math.max(_(t.y),0)+2)*Math.sin(S(t.x+t.dx/2)-Math.PI/2),this.old={x:t.x,y:t.y,dx:t.dx,dy:t.dy}}),N.transition().duration(e).tween("zoomTween",l(t)),p.transition().duration(e).tween("groupTween",h(t,1)),g.transition().duration(e).tween("arcTween",u(t)),P.transition().duration(e).tween("textTween",d(t)),c.transition().duration(e).tween("groupTween",h(t,1)),m=c.select("arc").transition().duration(e).tween("arcTween",u(t)),x=c.select("text").transition().duration(e).tween("textTween",d(t)),f=c.exit().transition().duration(e).tween("groupTween",h(t,0)).each(function(){this.remove()},"end"),v=f.select("arc").tween("arcTween",u(t)),D=f.select("text").tween("textTween",d(t))}}function m(i,l,h,u,d,p,m){if(void 0===N){x=l,E=d,T=h,b=u,P=Math.min(T,b)/2,S=e().range([0,2*Math.PI]),_=e().range([0,P]),w=p;var g,v,y=n(m);M=E(),O=m,R=t.layout.partition().value(function(t){return t.size}).children(function(t){return t.children}),A=x.append("group"),N=A.append("group").each(function(){this.fontFamily="Times New Roman",this.fontSize=11}),D=t.svg.arc().startAngle(r).endAngle(a).innerRadius(s).outerRadius(c),v=R.nodes(M).filter(function(t){return o(t,y)<M.maxVisibleLevels}),g=N.selectAll("group").data(v,function(t){return t.id}),S.domain([m.x,m.x+m.dx]),_.domain([m.y,(M.curMaxLevel+1)/(M.maxlvl+1)]).range([m.y?m.dy*P/2:0,P]),f(m,0)}}function g(t,e){T=t,b=e,P=Math.min(T,b)/2,_.range([0,P])}function v(){void 0!==N&&(A.remove(),A=void 0,N=void 0)}var y,x,E,w,T,b,P,S,_,M,R,D,A,N,O;return y={init:m,update:f,zoom:p,resize:g,remove:v,enableRotate:!0,enableRotateDefault:!0,enableRootZoom:!1,fontSize:11,fontFamily:"Times New Roman",allowTextOverflow:!1}}}),define("scalejs.visualization-d3/voronoi",["d3"],function(t){return function(){function e(){}function n(t){var e=t.enter().append("group").attr("originX","center").attr("originY","center").on("mousedown",function(t){var e=(new Date).getTime();500>e-g&&c(t),g=e});e.append("polygon").attr("points",function(t){return t.coords}).attr("stroke","#000").attr("stroke-width",1).attr("fill",function(t){return t.color.toString()}).attr("originX","center").attr("originY","center")}function o(){if(void 0!==d){var t,e,o,i,r=l/y.width,a=h/y.height;for(u=[],p=0;p<E.length;p+=1)for(u[p]={name:E[p].name,coords:[],color:E[p].color},i=0;i<E[p].coords.length;i+=1)o=E[p].coords[i].split(","),u[p].coords[i]={x:Number(o[0])*r,y:Number(o[1])*a};t=d.selectAll("group").data(u,function(t){return t.name}),e=t.transition().duration(1e3),e.select("polygon").attr("points",function(t){return t.coords}).attr("fill",function(t){return t.color.toString()}),n(t),e=t.exit().remove()}}function i(t,e,o,i,r){if(void 0===d){s=t,l=e,h=o,c=r;var a,f,m,g=l/y.width,v=h/y.height;for(u=[],p=0;p<E.length;p+=1)for(u[p]={name:E[p].name,coords:[],color:E[p].color},f=0;f<E[p].coords.length;f+=1)m=E[p].coords[f].split(","),u[p].coords[f]={x:Number(m[0])*g,y:Number(m[1])*v};d=s.append("group").attr("originX","center").attr("originY","center"),a=d.selectAll("group").data(u,function(t){return t.name}),n(a)}}function r(t,e){l=t,h=e}function a(){void 0!==d&&(d.remove(),d=void 0)}var s,c,l,h,u,d,p,f,m,g,v=[{count:174,coords:["391.885,330.542","417.410,334.603","402.827,370.451","390.266,365.328"],name:"Public Services"},{count:442,color:"#DFDD7A",coords:["478.269,458.569","443.424,465.644","419.340,440.846","429.357,403.370","465.808,397.980","476.719,404.983"],name:"College/University",children:[{count:442,color:"#DFDD7A",coords:["457.101,462.867","443.424,465.644","419.340,440.846","424.298,422.298","441.700,415.308","451.918,416.594","467.742,431.129"],name:"College/University (general)"},{count:168,coords:["477.446,430.126","478.269,458.569","457.101,462.867","467.742,431.129"],name:"Graduate School"},{count:159,coords:["477.446,430.126","467.742,431.129","451.918,416.594","458.625,399.042","465.808,397.980","476.719,404.983"],name:"Financial Aid"},{count:29,coords:["437.840,402.116","458.625,399.042","451.918,416.594","441.700,415.308"],name:"UVSC/UVU"},{count:22,coords:["424.298,422.298","429.357,403.370","437.840,402.116","441.700,415.308"],name:"University of Utah"}]},{count:135,coords:["254.187,545.597","239.937,555.697","219.040,522.646","237.922,517.638"],name:"Family History/Genealogy"},{count:19,coords:["0.000,338.881","28.012,342.780","33.436,355.324","0.000,374.860"],name:"Human Rights"},{count:51,coords:["466.935,204.335","464.219,194.778","475.897,168.726","513.262,178.585","508.094,200.279"],name:"Architecture"},{count:299,coords:["180.958,406.709","152.806,416.431","141.547,402.486","170.266,378.235"],name:"Statistics"},{count:952,color:"#003A80",coords:["264.022,0.000","420.775,0.000","445.396,147.850","430.128,179.696","409.728,205.539","368.349,227.792","331.505,234.468","271.667,222.711","239.090,197.881","215.441,165.841","205.534,87.744","218.673,52.874"],name:"BYU",children:[{count:2344,coords:["427.072,37.815","436.032,91.621","408.668,122.885","383.213,131.995","349.469,125.059","330.390,106.917","319.965,84.093","319.289,63.748","337.172,32.739","344.637,27.109","390.944,18.537"],name:"Academics",children:[{count:2344,coords:["430.318,57.307","397.849,126.757","383.213,131.995","349.469,125.059","330.390,106.917","319.965,84.093","319.289,63.748","337.172,32.739","344.637,27.109","390.944,18.537","427.072,37.815"],name:"Academics (general)"},{count:223,coords:["397.849,126.757","430.318,57.307","436.032,91.621","408.668,122.885"],name:"Departments"}]},{count:1216,coords:["238.039,196.458","215.441,165.841","209.197,116.621","279.619,131.947","287.246,161.078","276.646,180.114"],name:"Student Life"},{count:962,coords:["244.605,22.638","288.501,28.373","301.372,36.881","319.289,63.748","319.965,84.093","311.362,106.244","294.410,125.043","279.619,131.947","209.197,116.621","205.534,87.744","218.673,52.874"],name:"Campus (physical)",children:[{count:1100,coords:["269.972,25.952","278.133,131.624","209.197,116.621","205.534,87.744","218.673,52.874","244.605,22.638"],name:"Buildings",children:[{count:1100,coords:["273.014,65.333","278.133,131.624","209.197,116.621","205.534,87.744","217.081,57.099"],name:"Buildings (general)"},{count:423,coords:["273.014,65.333","217.081,57.099","218.673,52.874","244.605,22.638","269.972,25.952"],name:"Library"}]},{count:962,coords:["269.972,25.952","288.501,28.373","301.372,36.881","319.289,63.748","319.965,84.093","311.362,106.244","294.410,125.043","279.619,131.947","278.133,131.624"],name:"Campus (physical) (general)"}]},{count:952,color:"#003A80",coords:["383.213,131.995","392.467,145.532","392.623,177.936","391.036,180.286","379.060,190.009","351.861,193.948","327.448,175.826","324.743,157.562","333.472,136.790","349.469,125.059"],name:"BYU (general)"},{count:652,coords:["348.849,231.325","331.505,234.468","302.920,228.852","298.290,192.649","304.987,184.261","327.448,175.826","351.861,193.948"],name:"Athletics"},{count:488,coords:["441.798,155.354","430.128,179.696","424.961,186.241","392.623,177.936","392.467,145.532","413.607,132.337","425.997,136.130"],name:"Activities/Events"},{count:404,coords:["392.499,0.000","390.944,18.537","344.637,27.109","341.833,0.000"],name:"Honor Code"},{count:355,coords:["265.549,218.049","239.090,197.881","238.039,196.458","276.646,180.114","286.581,192.665","276.284,213.519"],name:"Culture"},{count:335,coords:["391.429,215.380","368.349,227.792","348.849,231.325","351.861,193.948","379.060,190.009"],name:"Network/Email"},{count:314,coords:["290.513,0.000","288.501,28.373","244.605,22.638","264.022,0.000"],name:"Admissions"},{count:251,coords:["436.032,91.621","442.196,128.634","425.997,136.130","413.607,132.337","408.668,122.885"],name:"Clubs"},{count:234,coords:["290.513,0.000","320.150,0.000","321.425,25.004","301.372,36.881","288.501,28.373"],name:"Dining"},{count:215,coords:["302.920,228.852","281.878,224.718","276.284,213.519","286.581,192.665","298.290,192.649"],name:"BYU Rumors/Myths"},{count:206,coords:["392.499,0.000","420.775,0.000","427.072,37.815","390.944,18.537"],name:"Policy"},{count:176,coords:["291.397,161.386","287.246,161.078","279.619,131.947","294.410,125.043","304.912,133.037","305.234,151.747"],name:"Freshmen"},{count:168,coords:["324.743,157.562","327.448,175.826","304.987,184.261","291.397,161.386","305.234,151.747"],name:"Devotionals/Forums"},{count:152,coords:["337.172,32.739","319.289,63.748","301.372,36.881","321.425,25.004"],name:"Faculty/Staff"},{count:130,coords:["304.912,133.037","320.509,127.278","333.472,136.790","324.743,157.562","305.234,151.747"],name:"Graduation"},{count:99,coords:["333.472,136.790","320.509,127.278","321.630,111.786","330.390,106.917","349.469,125.059"],name:"Bookstore"},{count:92,coords:["304.987,184.261","298.290,192.649","286.581,192.665","276.646,180.114","287.246,161.078","291.397,161.386"],name:"BYUSA"},{count:87,coords:["404.172,208.527","391.429,215.380","379.060,190.009","391.036,180.286"],name:"Study Abroad",children:[{count:87,coords:["399.365,211.112","390.010,212.470","379.060,190.009","391.036,180.286","404.172,208.527"],name:"Study Abroad (general)"},{count:3,coords:["399.365,211.112","391.429,215.380","390.010,212.470"],name:"Travel Study"}]},{count:79,coords:["321.630,111.786","320.509,127.278","304.912,133.037","294.410,125.043","311.362,106.244"],name:"History"},{count:40,coords:["442.196,128.634","445.396,147.850","441.798,155.354","425.997,136.130"],name:"Financial Aid"},{count:32,coords:["383.213,131.995","408.668,122.885","413.607,132.337","392.467,145.532"],name:"Continuing Education"},{count:31,coords:["424.961,186.241","409.728,205.539","404.172,208.527","391.036,180.286","392.623,177.936"],name:"Publications",children:[{count:88,coords:["397.607,194.414","407.803,181.835","424.961,186.241","409.728,205.539","404.172,208.527"],name:"Daily Universe"},{count:31,coords:["407.803,181.835","397.607,194.414","391.036,180.286","392.623,177.936"],name:"Publications (general)"}]},{count:20,coords:["320.150,0.000","341.833,0.000","344.637,27.109","337.172,32.739","321.425,25.004"],name:"Alumni"},{count:14,coords:["319.965,84.093","330.390,106.917","321.630,111.786","311.362,106.244"],name:"Advertising"},{count:11,coords:["281.878,224.718","271.667,222.711","265.549,218.049","276.284,213.519"],name:"Salt Lake Center"}]},{count:200,coords:["447.186,551.922","422.410,568.721","407.588,563.315","409.045,528.356","422.028,524.448"],name:"Restaurants"},{count:142,coords:["600.000,570.642","600.000,600.000","560.657,600.000","558.295,577.129","574.901,563.538"],name:"Cartoons"},{count:522,coords:["39.072,0.000","0.000,35.089","0.000,0.000"],name:"Strange Things People Do"},{count:129,coords:["183.037,42.406","176.150,77.097","151.579,79.814","143.605,40.170","157.101,32.876"],name:"Military"},{count:23,color:"#405D80",coords:["67.411,362.161","33.436,355.324","28.012,342.780","49.727,309.314","78.330,315.870"],name:"Games",children:[{count:376,coords:["71.367,345.387","45.128,344.639","34.957,332.077","49.727,309.314","78.330,315.870"],name:"Computer/Video Games"},{count:160,coords:["71.367,345.387","67.411,362.161","40.954,356.837","45.128,344.639"],name:"Board & Card Games"},{count:23,color:"#405D80",coords:["40.954,356.837","33.436,355.324","28.012,342.780","34.957,332.077","45.128,344.639"],name:"Games (general)"}]},{count:574,color:"#003A80",coords:["0.000,374.860","33.436,355.324","67.411,362.161","89.051,397.570","74.291,436.732","32.409,449.004","0.000,429.573"],name:"Utah",children:[{count:1054,coords:["53.800,359.422","67.411,362.161","89.051,397.570","74.291,436.732","40.360,446.674","18.563,409.815"],name:"Provo/Orem Community"},{count:574,color:"#003A80",coords:["0.000,408.030","0.000,374.860","33.436,355.324","53.800,359.422","18.563,409.815"],name:"Utah (general)"},{count:22,coords:["0.000,408.030","18.563,409.815","40.360,446.674","32.409,449.004","0.000,429.573"],name:"University of Utah"}]},{count:88,coords:["207.225,315.358","214.178,274.973","231.142,274.024","238.164,312.177"],name:"Humanitarian Aid/Projects"},{count:489,coords:["200.539,177.240","211.414,217.264","205.559,221.398","169.733,218.436","162.488,185.999"],name:"Electronics/Technology"},{count:1603,color:"#008963",coords:["139.230,295.562","166.255,319.932","176.768,345.653","170.266,378.235","141.547,402.486","103.630,404.456","89.051,397.570","67.411,362.161","78.330,315.870"],name:"Language & Linguistics",children:[{count:1603,color:"#008963",coords:["98.478,309.152","139.230,295.562","166.255,319.932","176.768,345.653","170.266,378.235","143.679,400.685","95.759,367.784"],name:"Language & Linguistics (general)"},{count:384,coords:["98.478,309.152","95.759,367.784","76.439,376.933","67.411,362.161","78.330,315.870"],name:"English Usage/Grammar"},{count:338,coords:["143.679,400.685","141.547,402.486","103.630,404.456","89.051,397.570","76.439,376.933","95.759,367.784"],name:"Etymology"}]},{count:5135,coords:["0.000,149.351","0.000,35.089","39.072,0.000","109.950,0.000","143.605,40.170","151.579,79.814","117.111,141.426"],name:"Comments"},{count:263,coords:["156.166,489.182","134.489,459.318","151.456,447.247","159.510,451.182","171.865,480.587"],name:"Telephones"},{count:30,coords:["215.617,431.486","194.899,440.709","195.232,421.208"],name:"Olympics"},{count:210,color:"#405D80",coords:["600.000,387.286","600.000,466.078","555.125,494.075","516.783,494.394","478.269,458.569","476.719,404.983","503.835,371.807","549.871,360.489"],name:"Entertainment",children:[{count:1833,coords:["600.000,428.551","600.000,466.078","555.125,494.075","516.783,494.394","495.634,474.722","511.378,419.935","522.942,411.554"],name:"Movies"},{count:1195,coords:["522.012,367.338","549.871,360.489","600.000,387.286","600.000,428.551","522.942,411.554"],name:"Television",children:[{count:1195,coords:["522.307,381.351","534.092,364.369","549.871,360.489","600.000,387.286","600.000,428.551","522.942,411.554"],name:"Television (general)"},{count:27,coords:["534.092,364.369","522.307,381.351","522.012,367.338"],name:"Commercials"}]},{count:210,color:"#405D80",coords:["495.634,474.722","478.269,458.569","476.834,408.955","511.378,419.935"],name:"Entertainment (general)"},{count:174,coords:["522.012,367.338","522.942,411.554","511.378,419.935","476.834,408.955","476.719,404.983","503.835,371.807"],name:"Theater"}]},{count:140,color:"#008963",coords:["382.968,600.000","305.071,600.000","284.693,547.588","300.301,505.033","327.423,485.171","352.381,481.327","379.931,490.781","409.045,528.356","407.588,563.315"],name:"Social Science",children:[{count:968,coords:["346.315,600.000","337.605,541.971","365.115,523.336","381.514,524.860","408.373,544.484","407.588,563.315","382.968,600.000"],name:"Government/Politics",children:[{count:968,coords:["387.713,592.929","343.174,579.076","337.605,541.971","365.115,523.336","381.514,524.860","408.373,544.484","407.588,563.315"],name:"Government/Politics (general)"},{count:94,coords:["387.713,592.929","382.968,600.000","346.315,600.000","343.174,579.076"],name:"International Relations",children:[{count:94,coords:["366.266,586.258","362.795,600.000","346.315,600.000","343.174,579.076"],name:"International Relations (general)"},{count:46,coords:["369.621,587.302","387.713,592.929","382.968,600.000","368.667,600.000"],name:"Immigration"},{count:17,coords:["366.266,586.258","369.621,587.302","368.667,600.000","362.795,600.000"],name:"Wars"}]}]},{count:817,coords:["346.315,600.000","305.071,600.000","284.767,547.778","330.404,538.168","337.605,541.971"],name:"Psychology"},{count:258,coords:["341.802,502.937","360.003,510.129","365.115,523.336","337.605,541.971","330.404,538.168","327.347,513.037"],name:"Geography"},{count:140,color:"#008963",coords:["374.335,488.861","379.931,490.781","394.509,509.595","381.514,524.860","365.115,523.336","360.003,510.129"],name:"Social Science (general)"},{count:127,coords:["339.149,483.365","352.381,481.327","374.335,488.861","360.003,510.129","341.802,502.937"],name:"Economics"},{count:72,coords:["408.373,544.484","381.514,524.860","394.509,509.595","409.045,528.356"],name:"Symbols"},{count:69,coords:["307.500,499.761","327.423,485.171","339.149,483.365","341.802,502.937","327.347,513.037"],name:"Traditions"},{count:13,coords:["284.767,547.778","284.693,547.588","300.301,505.033","307.500,499.761","327.347,513.037","330.404,538.168"],name:"History",children:[{count:190,coords:["318.634,540.646","284.767,547.778","284.693,547.588","296.160,516.323","317.514,527.562"],name:"World"},{count:168,coords:["328.240,520.383","317.514,527.562","296.160,516.323","300.301,505.033","307.500,499.761","327.347,513.037"],name:"United States"},{count:13,coords:["328.240,520.383","330.404,538.168","318.634,540.646","317.514,527.562"],name:"History (general)"}]}]},{count:1081,color:"#008963",coords:["522.463,266.864","560.562,294.270","566.208,327.967","549.871,360.489","503.835,371.807","481.264,360.862","457.039,322.416","478.256,277.838"],name:"Medical/Body",children:[{count:1081,color:"#008963",coords:["508.547,270.319","531.773,318.780","480.583,359.781","457.039,322.416","478.256,277.838"],name:"Medical/Body (general)"},{count:652,coords:["556.554,347.186","549.871,360.489","503.835,371.807","481.264,360.862","480.583,359.781","531.773,318.780","533.524,319.180"],name:"Anatomy/Physiology"},{count:358,coords:["508.547,270.319","522.463,266.864","560.562,294.270","561.961,302.617","533.524,319.180","531.773,318.780"],name:"Products"},{count:30,coords:["561.961,302.617","566.208,327.967","556.554,347.186","533.524,319.180"],name:"Research"}]},{count:116,coords:["109.950,0.000","161.185,0.000","157.101,32.876","143.605,40.170"],name:"BYU-I/Rexburg Community"},{count:728,color:"#008963",coords:["558.295,577.129","519.398,574.361","497.241,544.413","516.783,494.394","555.125,494.075","584.186,528.267","574.901,563.538"],name:"Sports",children:[{count:728,color:"#008963",coords:["504.402,554.092","573.882,516.144","584.186,528.267","574.901,563.538","558.295,577.129","519.398,574.361"],name:"Sports (general)"},{count:652,coords:["573.882,516.144","504.402,554.092","497.241,544.413","516.783,494.394","555.125,494.075"],name:"Athletics"}]},{count:209,color:"#008963",coords:["404.508,446.539","419.340,440.846","443.424,465.644","429.246,479.978","403.694,471.031"],name:"Advertising",children:[{count:209,color:"#008963",coords:["404.211,455.464","422.464,444.062","443.424,465.644","429.246,479.978","403.694,471.031"],name:"Advertising (general)"},{count:27,coords:["422.464,444.062","404.211,455.464","404.508,446.539","419.340,440.846"],name:"Commercials"}]},{count:150,coords:["176.150,77.097","183.037,42.406","192.364,38.085","218.673,52.874","205.534,87.744"],name:"Dance"},{count:787,color:"#405D80",coords:["478.256,277.838","457.039,322.416","417.410,334.603","391.885,330.542","355.146,302.846","351.524,261.964","368.349,227.792","409.728,205.539","454.265,222.658"],name:"Music",children:[{count:787,color:"#405D80",coords:["424.041,211.041","454.265,222.658","466.839,251.580","434.851,276.059","420.006,273.959","403.142,259.339","398.561,237.437","400.311,232.999"],name:"Music (general)"},{count:501,coords:["352.500,272.988","351.524,261.964","368.349,227.792","369.070,227.404","398.561,237.437","403.142,259.339","396.553,271.664","384.439,279.508"],name:"Bands/Artists"},{count:382,coords:["465.934,303.726","442.110,295.450","434.851,276.059","466.839,251.580","478.256,277.838"],name:"Audio/Radio"},{count:285,coords:["374.173,317.190","355.146,302.846","352.500,272.988","384.439,279.508","389.296,297.418"],name:"Lyrics"},{count:282,coords:["410.819,333.554","391.885,330.542","374.173,317.190","389.296,297.418","406.922,297.028","418.165,310.026"],name:"Soundtracks"},{count:245,coords:["429.570,310.144","418.165,310.026","406.922,297.028","410.651,281.414","420.006,273.959","434.851,276.059","442.110,295.450"],name:"LDS Music"},{count:195,coords:["465.934,303.726","457.039,322.416","438.376,328.155","429.570,310.144","442.110,295.450"],name:"Instruments"},{count:130,coords:["424.041,211.041","400.311,232.999","391.175,215.516","409.728,205.539"],name:"Downloads"},{count:122,coords:["410.651,281.414","406.922,297.028","389.296,297.418","384.439,279.508","396.553,271.664"],name:"Sheet Music"},{count:100,coords:["438.376,328.155","417.410,334.603","410.819,333.554","418.165,310.026","429.570,310.144"],name:"Vocal"},{count:52,coords:["403.142,259.339","420.006,273.959","410.651,281.414","396.553,271.664"],name:"Videos"},{count:45,coords:["369.070,227.404","391.175,215.516","400.311,232.999","398.561,237.437"],name:"Classical"}]},{count:447,coords:["600.000,466.078","600.000,526.415","584.186,528.267","555.125,494.075"],name:"Etiquette"},{count:371,coords:["352.381,481.327","327.423,485.171","312.224,463.585","320.654,440.967","349.484,438.127","351.272,439.316"],name:"Business"},{count:71,coords:["362.601,398.350","378.732,409.937","379.127,429.513","351.272,439.316","349.484,438.127","345.854,411.932"],name:"Appliances"},{count:15,coords:["464.219,194.778","466.935,204.335","454.265,222.658","409.728,205.539","430.128,179.696"],name:"Mechanics"},{count:305,coords:["312.224,463.585","327.423,485.171","300.301,505.033","274.770,479.510"],name:"Quotes/Speeches"},{count:320,color:"#003A80",coords:["290.298,387.892","283.411,406.097","247.950,434.397","215.617,431.486","195.232,421.208","180.958,406.709","170.266,378.235","176.768,345.653","202.597,318.119","207.225,315.358","238.164,312.177","286.220,345.382"],name:"Computers",children:[{count:1269,coords:["248.017,318.985","261.172,351.204","261.464,355.467","251.200,381.098","219.224,393.305","190.860,379.576","175.821,350.398","176.768,345.653","202.597,318.119","207.225,315.358","238.164,312.177"],name:"Internet (general)"},{count:534,coords:["273.063,414.355","247.950,434.397","226.622,432.477","215.974,409.688","219.224,393.305","251.200,381.098","251.822,381.387"],name:"Software"},{count:320,color:"#003A80",coords:["198.150,422.679","195.232,421.208","180.958,406.709","174.926,390.643","190.860,379.576","219.224,393.305","215.974,409.688"],name:"Computers (general)"},{count:278,coords:["289.009,374.457","290.298,387.892","283.411,406.097","273.063,414.355","251.822,381.387","270.282,370.576"],name:"Hardware"},{count:116,coords:["248.017,318.985","275.315,337.847","261.172,351.204"],name:"Programming"},{count:89,coords:["174.926,390.643","170.266,378.235","175.821,350.398","190.860,379.576"],name:"Music"},{count:84,coords:["226.622,432.477","215.617,431.486","198.150,422.679","215.974,409.688"],name:"Browsers"},{count:32,coords:["275.315,337.847","286.220,345.382","286.656,349.925","266.241,358.297","261.464,355.467","261.172,351.204"],name:"Networking"},{count:21,coords:["266.241,358.297","270.282,370.576","251.822,381.387","251.200,381.098","261.464,355.467"],name:"Computer Science"},{count:4,coords:["286.656,349.925","289.009,374.457","270.282,370.576","266.241,358.297"],name:"Operating Systems",children:[{count:43,coords:["273.619,355.271","286.656,349.925","288.147,365.469","284.574,367.117","276.464,366.110","275.583,365.311"],name:"Mac or PC"},{count:19,coords:["273.619,355.271","275.583,365.311","269.148,367.131","266.241,358.297"],name:"Mac"},{count:12,coords:["283.858,373.389","275.573,371.672","276.464,366.110","284.574,367.117"],name:"Windows"},{count:5,coords:["269.148,367.131","275.583,365.311","276.464,366.110","275.573,371.672","270.282,370.576"],name:"Linux"},{count:4,coords:["288.147,365.469","289.009,374.457","283.858,373.389","284.574,367.117"],name:"Operating Systems (general)"}]}]},{count:1719,coords:["139.234,600.000","163.994,526.165","197.572,515.642","219.040,522.646","239.937,555.697","232.316,600.000"],name:"Random"},{count:323,coords:["246.803,241.952","219.557,216.966","239.090,197.881","271.667,222.711"],name:"Trivia/Riddles"},{count:225,coords:["445.396,147.850","475.897,168.726","464.219,194.778","430.128,179.696"],name:"Philosophy"},{count:817,coords:["305.071,600.000","232.316,600.000","239.937,555.697","254.187,545.597","284.693,547.588"],name:"Products"},{count:117,coords:["600.000,244.061","600.000,290.681","568.810,287.561","569.027,256.126"],name:"News Media"},{count:385,coords:["176.216,480.370","197.572,515.642","163.994,526.165","156.166,489.182","171.865,480.587"],name:"Questions about Girls"},{count:858,color:"#405D80",coords:["139.234,600.000","0.000,600.000","0.000,478.820","32.409,449.004","74.291,436.732","95.770,439.440","134.489,459.318","156.166,489.182","163.994,526.165"],name:"Relationships",children:[{count:1626,coords:["39.142,447.031","74.291,436.732","95.770,439.440","120.926,452.355","127.160,488.935","122.612,504.757","95.020,528.252","48.631,517.900","32.857,492.840"],name:"Dating",children:[{count:1626,coords:["117.893,450.798","114.003,512.088","95.020,528.252","48.631,517.900","32.857,492.840","39.142,447.031","74.291,436.732","95.770,439.440"],name:"Dating (general)"},{count:120,coords:["117.893,450.798","120.926,452.355","127.160,488.935","122.612,504.757","114.003,512.088"],name:"Dating Ideas"}]},{count:858,color:"#405D80",coords:["162.777,520.416","163.994,526.165","149.808,568.466","107.258,565.528","97.628,555.501","95.020,528.252","122.612,504.757"],name:"Relationships (general)"},{count:659,coords:["0.000,556.261","34.959,549.026","56.857,574.988","54.946,600.000","0.000,600.000"],name:"Marriage"},{count:539,coords:["106.523,600.000","54.946,600.000","56.857,574.988","97.628,555.501","107.258,565.528"],name:"Friends"},{count:365,coords:["48.631,517.900","95.020,528.252","97.628,555.501","56.857,574.988","34.959,549.026","40.181,525.660"],name:"Family",children:[{count:365,coords:["60.922,573.045","64.970,521.546","95.020,528.252","97.628,555.501"],name:"Family (general)"},{count:320,coords:["64.970,521.546","60.922,573.045","56.857,574.988","34.959,549.026","40.181,525.660","48.631,517.900"],name:"Parenting"}]},{count:358,coords:["0.000,556.261","0.000,515.600","20.030,511.711","40.181,525.660","34.959,549.026"],name:"Affection"},{count:336,coords:["106.523,600.000","107.258,565.528","149.808,568.466","139.234,600.000"],name:"Wedding Prep."},{count:268,coords:["0.000,481.505","0.000,478.820","32.409,449.004","39.142,447.031","32.857,492.840","27.755,494.350"],name:"Roommates"},{count:228,coords:["162.777,520.416","122.612,504.757","127.160,488.935","149.522,480.030","156.166,489.182"],name:"Breaking Up"},{count:101,coords:["120.926,452.355","134.489,459.318","149.522,480.030","127.160,488.935"],name:"Long Distance",children:[{count:101,coords:["130.491,487.608","127.160,488.935","120.926,452.355","134.489,459.318","144.388,472.957"],name:"Long Distance (general)"},{count:20,coords:["130.491,487.608","144.388,472.957","149.522,480.030"],name:"Long Distance Relationships with Missionaries"}]},{count:59,coords:["20.030,511.711","27.755,494.350","32.857,492.840","48.631,517.900","40.181,525.660"],name:"Singles"},{count:53,coords:["0.000,515.600","0.000,481.505","27.755,494.350","20.030,511.711"],name:"Chastity"}]},{count:538,color:"#003A80",coords:["134.489,459.318","95.770,439.440","103.630,404.456","141.547,402.486","152.806,416.431","151.456,447.247"],name:"Money/Finance",children:[{count:538,color:"#003A80",coords:["152.409,425.492","118.902,451.316","95.770,439.440","103.630,404.456","141.547,402.486","152.806,416.431"],name:"Money/Finance (general)"},{count:143,coords:["118.902,451.316","152.409,425.492","151.456,447.247","134.489,459.318"],name:"Insurance"}]},{count:902,coords:["270.520,478.623","247.950,434.397","283.411,406.097","311.754,419.503","320.654,440.967","312.224,463.585","274.770,479.510"],name:"Employment"},{count:101,coords:["283.411,406.097","290.298,387.892","322.007,391.152","324.637,404.053","311.754,419.503"],name:"History of"},{count:451,coords:["152.806,416.431","180.958,406.709","195.232,421.208","194.899,440.709","184.480,451.992","159.510,451.182","151.456,447.247"],name:"Questions about Guys"},{count:234,coords:["512.775,600.000","519.398,574.361","558.295,577.129","560.657,600.000"],name:"How Stuff Works"},{count:5,coords:["200.539,177.240","215.441,165.841","239.090,197.881","219.557,216.966","211.414,217.264"],name:"General Reference"},{count:115,coords:["465.808,397.980","481.264,360.862","503.835,371.807","476.719,404.983"],name:"Mail"},{count:36,color:"#DFDD7A",coords:["351.524,261.964","331.505,234.468","368.349,227.792"],name:"Education",children:[{count:150,coords:["358.166,248.474","341.709,248.483","331.505,234.468","368.349,227.792"],name:"Teaching"},{count:36,color:"#DFDD7A",coords:["358.166,248.474","351.524,261.964","341.709,248.483"],name:"Education (general)"}]},{count:73,coords:["600.000,526.415","600.000,570.642","574.901,563.538","584.186,528.267"],name:"High School"},{count:350,coords:["568.810,287.561","560.562,294.270","522.463,266.864","531.890,249.878","569.027,256.126"],name:"House and Home"},{count:503,coords:["600.000,329.010","600.000,387.286","549.871,360.489","566.208,327.967"],name:"Religion"},{count:20,coords:["176.768,345.653","166.255,319.932","202.597,318.119"],name:"BYU-H"},{count:766,color:"#003A80",coords:["360.566,385.405","333.970,376.812","318.771,339.527","355.146,302.846","391.885,330.542","390.266,365.328"],name:"Legal (law)",children:[{count:766,color:"#003A80",coords:["388.118,366.780","360.566,385.405","333.970,376.812","318.771,339.527","332.805,325.375","373.849,331.558"],name:"Legal (law) (general)"},{count:242,coords:["332.805,325.375","355.146,302.846","381.231,322.511","373.849,331.558"],name:"Law Enforcement"},{count:46,coords:["388.118,366.780","373.849,331.558","381.231,322.511","391.885,330.542","390.266,365.328"],name:"Immigration"}]},{count:210,color:"#003A80",coords:["382.968,600.000","407.588,563.315","422.410,568.721","428.988,600.000"],name:"Environment/Nature",children:[{count:210,color:"#003A80",coords:["392.714,600.000","388.317,592.030","407.588,563.315","422.410,568.721","428.988,600.000"],name:"Environment/Nature (general)"},{count:8,coords:["392.714,600.000","382.968,600.000","388.317,592.030"],name:"Recycling"}]},{count:1049,color:"#003A80",coords:["0.000,274.951","0.000,149.351","117.111,141.426","162.488,185.999","169.733,218.436","165.252,254.816","139.230,295.562","78.330,315.870","49.727,309.314"],name:"Board",children:[{count:3317,coords:["128.275,152.392","162.488,185.999","169.733,218.436","165.252,254.816","139.230,295.562","111.481,304.815","59.496,283.284","31.900,225.409","37.120,198.413","64.089,164.017"],name:"Writers",children:[{count:3317,coords:["165.371,253.848","53.886,271.519","31.900,225.409","37.120,198.413","64.089,164.017","128.275,152.392","162.488,185.999","169.733,218.436"],name:"Writers (general)"},{count:825,coords:["165.371,253.848","165.252,254.816","139.230,295.562","111.481,304.815","59.496,283.284","53.886,271.519"],name:"What's your favorite"}]},{count:1049,color:"#003A80",coords:["42.153,304.080","0.000,274.951","0.000,231.857","31.900,225.409","59.496,283.284"],name:"Board (general)"},{count:688,coords:["0.000,185.983","0.000,149.351","58.715,145.378","64.089,164.017","37.120,198.413"],name:"System"},{count:244,coords:["0.000,231.857","0.000,185.983","37.120,198.413","31.900,225.409"],name:"Readers"},{count:211,coords:["58.715,145.378","117.111,141.426","128.275,152.392","64.089,164.017"],name:"Trivia"},{count:87,coords:["42.153,304.080","59.496,283.284","111.481,304.815","78.330,315.870","49.727,309.314"],name:"Policy"}]},{count:344,coords:["196.074,257.509","165.252,254.816","169.733,218.436","205.559,221.398"],name:"Ethics"},{count:32,coords:["324.637,404.053","322.007,391.152","333.970,376.812","360.566,385.405","362.601,398.350","345.854,411.932"],name:"Patriotism"},{count:766,color:"#008963",coords:["192.955,0.000","264.022,0.000","218.673,52.874","192.364,38.085"],name:"Animals",children:[{count:766,color:"#008963",coords:["213.934,50.210","192.364,38.085","192.955,0.000","240.843,0.000","248.941,17.583","221.095,50.050"],name:"Animals (general)"},{count:22,coords:["213.934,50.210","221.095,50.050","218.673,52.874"],name:"Dogs"},{count:13,coords:["240.843,0.000","264.022,0.000","248.941,17.583"],name:"Cats"}]},{count:1134,coords:["531.890,249.878","522.463,266.864","478.256,277.838","454.265,222.658","466.935,204.335","508.094,200.279"],name:"Hypotheticals"},{count:726,coords:["300.301,505.033","284.693,547.588","254.187,545.597","237.922,517.638","270.520,478.623","274.770,479.510"],name:"Housing"},{count:150,coords:["159.510,451.182","184.480,451.992","176.216,480.370","171.865,480.587"],name:"Current Events"},{count:676,coords:["512.775,600.000","462.183,600.000","459.306,555.867","497.241,544.413","519.398,574.361"],name:"Famous People"},{count:41,coords:["0.000,478.820","0.000,429.573","32.409,449.004"],name:"Emergency Preparedness"},{count:157,coords:["89.051,397.570","103.630,404.456","95.770,439.440","74.291,436.732"],name:"Safety"},{count:519,color:"#008963",coords:["420.775,0.000","600.000,0.000","600.000,147.954","513.262,178.585","475.897,168.726","445.396,147.850"],name:"LDS",children:[{count:1691,coords:["535.632,0.000","600.000,0.000","600.000,70.875","561.172,87.549","522.405,71.968","515.965,64.443","519.420,19.419"],name:"Doctrine",children:[{count:1691,coords:["517.899,39.248","519.420,19.419","535.632,0.000","600.000,0.000","600.000,70.875","561.172,87.549","547.258,81.956"],name:"Doctrine (general)"},{count:137,coords:["517.899,39.248","547.258,81.956","522.405,71.968","515.965,64.443"],name:"Word of Wisdom"}]},{count:1116,coords:["472.995,0.000","502.266,0.000","519.420,19.419","515.965,64.443","482.006,71.556","462.346,63.224","450.346,29.002","454.406,18.629"],name:"Missionaries"},{count:861,coords:["561.672,161.489","519.739,176.298","500.731,156.564","500.505,123.281","520.095,111.280","544.838,115.834","556.831,127.748"],name:"Culture"},{count:665,coords:["515.965,64.443","522.405,71.968","520.095,111.280","500.505,123.281","480.952,115.945","470.897,91.019","482.006,71.556"],name:"Scriptures"},{count:519,color:"#008963",coords:["455.711,154.910","460.096,129.438","480.952,115.945","500.505,123.281","500.731,156.564","483.972,170.857","475.897,168.726"],name:"LDS (general)"},{count:449,coords:["600.000,117.098","600.000,147.954","561.672,161.489","556.831,127.748","572.998,113.725"],name:"Temples"},{count:400,coords:["600.000,70.875","600.000,117.098","572.998,113.725","561.081,96.536","561.172,87.549"],name:"Policy"},{count:391,coords:["544.838,115.834","520.095,111.280","522.405,71.968","561.172,87.549","561.081,96.536"],name:"Prophets & General Authorities"},{count:341,coords:["432.512,70.478","426.330,33.354","450.346,29.002","462.346,63.224","459.115,66.475"],name:"Church History"},{count:341,coords:["441.547,124.739","437.280,99.113","464.748,88.979","470.897,91.019","480.952,115.945","460.096,129.438"],name:"LDS Rumors/Myths"},{count:245,coords:["446.027,0.000","454.406,18.629","450.346,29.002","426.330,33.354","420.775,0.000"],name:"LDS Music"},{count:206,coords:["432.512,70.478","459.115,66.475","464.748,88.979","437.280,99.113"],name:"General Conference"},{count:145,coords:["572.998,113.725","556.831,127.748","544.838,115.834","561.081,96.536"],name:"LDS Literature"},{count:71,coords:["441.547,124.739","460.096,129.438","455.711,154.910","445.396,147.850"],name:"Pornography"},{count:53,coords:["502.266,0.000","535.632,0.000","519.420,19.419"],name:"Seminary/Institute"},{count:48,coords:["470.897,91.019","464.748,88.979","459.115,66.475","462.346,63.224","482.006,71.556"],name:"EFY"},{count:20,coords:["519.739,176.298","513.262,178.585","483.972,170.857","500.731,156.564"],name:"Long Distance Relationships with Missionaries"},{count:19,coords:["446.027,0.000","472.995,0.000","454.406,18.629"],name:"International"}]},{count:325,color:"#003A80",coords:["211.414,217.264","219.557,216.966","246.803,241.952","231.142,274.024","214.178,274.973","196.074,257.509","205.559,221.398"],name:"Art",children:[{count:325,color:"#003A80",coords:["199.622,243.999","242.560,238.062","246.803,241.952","231.142,274.024","214.178,274.973","196.074,257.509"],name:"Art (general)"},{count:176,coords:["242.560,238.062","199.622,243.999","205.559,221.398","211.414,217.264","219.557,216.966"],name:"Photography"}]},{count:16,coords:["600.000,290.681","600.000,329.010","566.208,327.967","560.562,294.270","568.810,287.561"],name:"Periodicals"},{count:257,color:"#405D80",coords:["378.732,409.937","410.772,390.355","429.357,403.370","419.340,440.846","404.508,446.539","379.127,429.513"],name:"Travel",children:[{count:257,color:"#405D80",coords:["382.778,407.464","410.772,390.355","429.357,403.370","421.510,432.731"],name:"Travel (general)"},{count:226,coords:["382.778,407.464","421.510,432.731","419.340,440.846","404.508,446.539","379.127,429.513","378.732,409.937"],name:"International"}]},{count:10,color:"#DFDD7A",coords:["409.045,528.356","379.931,490.781","403.694,471.031","429.246,479.978","422.028,524.448"],name:"World",children:[{count:271,coords:["389.289,483.004","403.694,471.031","429.246,479.978","426.680,495.790","411.154,505.128","396.245,504.949"],name:"Country Info"},{count:127,coords:["422.561,521.166","422.028,524.448","409.045,528.356","393.190,507.893","396.245,504.949","411.154,505.128"],name:"Random"},{count:63,coords:["426.680,495.790","422.561,521.166","411.154,505.128"],name:"Customs"},{count:10,color:"#DFDD7A",coords:["393.190,507.893","379.931,490.781","389.289,483.004","396.245,504.949"],name:"World (general)"}]},{count:198,coords:["349.484,438.127","320.654,440.967","311.754,419.503","324.637,404.053","345.854,411.932"],name:"Comedy"},{count:715,color:"#008963",coords:["219.040,522.646","197.572,515.642","176.216,480.370","184.480,451.992","194.899,440.709","215.617,431.486","247.950,434.397","270.520,478.623","237.922,517.638"],name:"Fashion/Style",children:[{count:843,coords:["253.913,498.499","183.622,454.941","184.480,451.992","194.899,440.709","215.617,431.486","247.950,434.397","270.520,478.623"],name:"Clothing"},{count:715,color:"#008963",coords:["253.913,498.499","237.922,517.638","219.040,522.646","197.572,515.642","176.216,480.370","183.622,454.941"],name:"Fashion/Style (general)"}]},{count:351,color:"#008963",coords:["462.183,600.000","428.988,600.000","422.410,568.721","447.186,551.922","459.306,555.867"],name:"Writing/Publishing",children:[{count:351,color:"#008963",coords:["450.648,553.049","459.437,557.876","462.183,600.000","428.988,600.000","422.410,568.721","447.186,551.922"],name:"Writing/Publishing (general)"},{count:2,coords:["450.648,553.049","459.306,555.867","459.437,557.876"],name:"Typography"}]},{count:901,color:"#003A80",coords:["600.000,147.954","600.000,244.061","569.027,256.126","531.890,249.878","508.094,200.279","513.262,178.585"],name:"Science",children:[{count:901,color:"#003A80",coords:["600.000,175.446","600.000,211.398","571.998,223.049","551.726,219.348","539.475,188.863","549.033,165.953","569.095,158.868","589.822,167.062"],name:"Science (general)"},{count:248,coords:["600.000,211.398","600.000,244.061","580.163,251.789","571.998,223.049"],name:"Mathematics"},{count:223,coords:["521.982,229.226","508.094,200.279","508.915,196.832","532.614,187.125","539.475,188.863","551.726,219.348","550.460,220.686"],name:"Biology",children:[{count:223,coords:["513.924,212.431","542.226,195.708","551.726,219.348","550.460,220.686","521.982,229.226"],name:"Biology (general)"},{count:139,coords:["542.226,195.708","513.924,212.431","508.094,200.279","508.915,196.832","532.614,187.125","539.475,188.863"],name:"Botany"}]},{count:193,coords:["547.371,252.483","531.890,249.878","521.982,229.226","550.460,220.686"],name:"Meteorology/Climatology"},{count:140,coords:["580.163,251.789","569.027,256.126","547.371,252.483","550.460,220.686","551.726,219.348","571.998,223.049"],name:"Physics",children:[{count:145,coords:["575.854,236.622","548.282,243.101","550.460,220.686","551.726,219.348","571.998,223.049"],name:"Astronomy"},{count:140,coords:["575.854,236.622","580.163,251.789","569.027,256.126","547.371,252.483","548.282,243.101"],name:"Physics (general)"}]},{count:86,coords:["526.798,173.805","532.614,187.125","508.915,196.832","513.262,178.585"],name:"Agriculture"},{count:59,coords:["593.267,150.331","589.822,167.062","569.095,158.868"],name:"Ecology"},{count:41,coords:["549.033,165.953","539.475,188.863","532.614,187.125","526.798,173.805"],name:"Geology"},{count:21,coords:["593.267,150.331","600.000,147.954","600.000,175.446","589.822,167.062"],name:"Computer Science"}]},{count:483,color:"#003A80",coords:["404.508,446.539","403.694,471.031","379.931,490.781","352.381,481.327","351.272,439.316","379.127,429.513"],name:"Holidays",children:[{count:483,color:"#003A80",coords:["366.679,433.894","379.127,429.513","404.508,446.539","403.694,471.031","391.070,481.523","367.583,477.869","361.682,472.262","355.560,454.202"],name:"Holidays (general)"},{count:69,coords:["391.070,481.523","379.931,490.781","365.211,485.730","367.583,477.869"],name:"Traditions"},{count:44,coords:["352.226,475.448","351.658,453.942","355.560,454.202","361.682,472.262"],name:"Christmas"},{count:34,coords:["366.679,433.894","355.560,454.202","351.658,453.942","351.272,439.316"],name:"Presents"},{count:8,coords:["365.211,485.730","352.381,481.327","352.226,475.448","361.682,472.262","367.583,477.869"],name:"Birthdays"}]},{count:347,color:"#003A80",coords:["402.827,370.451","417.410,334.603","457.039,322.416","481.264,360.862","465.808,397.980","429.357,403.370","410.772,390.355"],name:"Transportation",children:[{count:583,coords:["410.108,352.554","447.153,353.010","458.283,399.093","429.357,403.370","410.772,390.355","402.827,370.451"],name:"Automobiles"},{count:347,color:"#003A80",coords:["471.524,345.404","481.264,360.862","465.808,397.980","458.283,399.093","447.153,353.010","448.465,351.399"],name:"Transportation (general)"},{count:181,coords:["410.108,352.554","417.410,334.603","443.574,326.557","448.465,351.399","447.153,353.010"],name:"Airlines/Aircraft"},{count:35,coords:["443.574,326.557","457.039,322.416","471.524,345.404","448.465,351.399"],name:"Bicycles"}]},{count:105,color:"#405D80",coords:["166.255,319.932","139.230,295.562","165.252,254.816","196.074,257.509","214.178,274.973","207.225,315.358","202.597,318.119"],name:"Folklore",children:[{count:341,coords:["172.634,319.614","166.255,319.932","139.230,295.562","153.345,273.460","172.635,277.173","182.337,293.320"],name:"LDS Rumors/Myths"},{count:319,coords:["181.719,256.255","196.074,257.509","214.178,274.973","210.915,293.927","182.337,293.320","172.635,277.173"],name:"Rumors/Myths"},{count:215,coords:["172.634,319.614","182.337,293.320","210.915,293.927","207.225,315.358","202.597,318.119"],name:"BYU Rumors/Myths"},{count:105,color:"#405D80",coords:["153.345,273.460","165.252,254.816","181.719,256.255","172.635,277.173"],name:"Folklore (general)"}]},{count:332,coords:["402.827,370.451","410.772,390.355","378.732,409.937","362.601,398.350","360.566,385.405","390.266,365.328"],name:"United States"},{count:1007,color:"#008963",coords:["117.111,141.426","151.579,79.814","176.150,77.097","205.534,87.744","215.441,165.841","200.539,177.240","162.488,185.999"],name:"Health",children:[{count:1007,color:"#008963",coords:["139.869,100.746","166.777,104.656","189.011,131.955","182.286,153.135","149.525,173.266","117.111,141.426"],name:"Health (general)"},{count:483,coords:["179.825,78.429","205.534,87.744","210.536,127.172","189.011,131.955","166.777,104.656"],name:"Wellness/Exercise"},{count:333,coords:["210.536,127.172","215.441,165.841","202.092,176.052","182.286,153.135","189.011,131.955"],name:"Hygiene"},{count:281,coords:["149.525,173.266","182.286,153.135","202.092,176.052","200.539,177.240","162.488,185.999"],name:"Diets"},{count:204,coords:["139.869,100.746","151.579,79.814","176.150,77.097","179.825,78.429","166.777,104.656"],name:"Pregnancy"}]},{count:732,color:"#003A80",coords:["459.306,555.867","447.186,551.922","422.028,524.448","429.246,479.978","443.424,465.644","478.269,458.569","516.783,494.394","497.241,544.413"],name:"Literature",children:[{count:732,color:"#003A80",coords:["427.442,491.096","429.246,479.978","443.424,465.644","478.269,458.569","493.382,472.627","487.793,505.355","464.451,518.480","450.933,515.680"],name:"Literature (general)"},{count:243,coords:["431.423,534.708","450.933,515.680","464.451,518.480","470.161,530.884","466.282,544.131","450.225,552.911","447.186,551.922"],name:"Harry Potter"},{count:188,coords:["431.423,534.708","422.028,524.448","427.442,491.096","450.933,515.680"],name:"Children's"},{count:167,coords:["511.756,507.262","489.660,506.742","487.793,505.355","493.382,472.627","516.783,494.394"],name:"Classics"},{count:145,coords:["494.885,525.230","486.698,533.355","470.161,530.884","464.451,518.480","487.793,505.355","489.660,506.742"],name:"LDS Literature"},{count:95,coords:["491.477,546.153","471.156,552.289","466.282,544.131","470.161,530.884","486.698,533.355"],name:"Poetry"},{count:76,coords:["511.756,507.262","503.779,527.680","494.885,525.230","489.660,506.742"],name:"Comic Books"},{count:23,coords:["503.779,527.680","497.241,544.413","491.477,546.153","486.698,533.355","494.885,525.230"],name:"Foreign Language"},{count:12,coords:["471.156,552.289","459.306,555.867","450.225,552.911","466.282,544.131"],name:"Political"}]},{count:2408,color:"#008963",coords:["331.505,234.468","351.524,261.964","355.146,302.846","318.771,339.527","286.220,345.382","238.164,312.177","231.142,274.024","246.803,241.952","271.667,222.711"],name:"Food & Drink",children:[{count:2408,color:"#008963",coords:["238.106,311.861","290.308,226.374","331.505,234.468","351.524,261.964","355.146,302.846","318.771,339.527","286.220,345.382","238.164,312.177"],name:"Food & Drink (general)"},{count:551,coords:["290.308,226.374","238.106,311.861","231.142,274.024","246.803,241.952","271.667,222.711"],name:"Cooking"}]},{count:688,coords:["0.000,274.951","49.727,309.314","28.012,342.780","0.000,338.881"],name:"Self Improvement"},{count:520,coords:["318.771,339.527","333.970,376.812","322.007,391.152","290.298,387.892","286.220,345.382"],name:"Recreation"},{count:198,coords:["161.185,0.000","192.955,0.000","192.364,38.085","183.037,42.406","157.101,32.876"],name:"Personal Purity"}],y={width:600,height:600},x=function w(e,n,o,i){var r,a,s,c=[];
for(o=o||0,void 0!==e.color&&(i=t.hsl(e.color)),i=i||t.hsl("#E0D3C1"),e.depth=o,e.color=i,r=1;o>r;r+=1)e.color=e.color.brighter(1.5);if(void 0!==e.children)for(void 0===n?n=e.name:n+=" > "+e.name,r=0;r<e.children.length;r+=1)a=e.children[r],s=w(a,n,o+1,i),c=c.concat(s);else void 0!==n&&(e.name=n+" > "+e.name),c.push(e);return c},E=[];for(p=0;p<v.length;p+=1)f=v[p],m=x(f),E=E.concat(m);return{init:i,update:o,zoom:e,resize:r,remove:a,enableRotate:!0}}}),define("scalejs.visualization-d3/testindiv",["d3"],function(t){return function(){function e(e,n){return function(o){var i=t.interpolate(this.left,o.x+e),r=t.interpolate(this.top,o.y+n),a=this;return function(t){a.left=i(t),a.top=r(t)}}}function n(){void 0!==p&&t.event&&t.event.stopPropagation()}function o(t){var e=t.selectAll("rect").data(d,function(t){return t.name}).enter(),n=t.selectAll("text").data(d,function(t){return t.name}).enter();e.append("rect").each(function(t){this.left=t.x,this.top=t.y,this.width=t.dx,this.height=t.dy,this.fill=t.color}),n.append("text").each(function(t){this.left=t.x,this.top=t.y,this.fontSize=11,this.text=t.name})}function i(){if(void 0!==p){var t=p;f=Math.random()*h/4,m=Math.random()*u/4,t.selectAll("rect").transition().duration(1e3).tween("posTween",e(f,m)),t.selectAll("text").transition().duration(1e3).tween("posTween",e(f,m))}}function r(t,e,n){if(void 0===p){c=t,h=e,u=n;var i,r,a,s,f,m,g;for(l=[],r=0;500>r;r+=1)a=Math.random()*e/2+e/4,s=Math.random()*n/2+n/4,f=20,m=20,g="#ff0000",l[r]={x:a,y:s,dx:f,dy:m,color:g,name:String(r)};d=l,i=p=c,o(i),c.pumpRender()}}function a(t,e){h=t,u=e}function s(){void 0!==p&&(p.selectAll("rect").remove(),p.selectAll("text").remove())}var c,l,h,u,d,p,f=0,m=0;return{init:r,update:i,zoom:n,resize:a,remove:s,enableRotate:!1}}}),define("scalejs.visualization-d3/testgroup",["d3"],function(t){return function(){function e(e,n){return function(){var o=t.interpolate(this.left,this.d.x+e),i=t.interpolate(this.top,this.d.y+n),r=this;return function(t){r.left=o(t),r.top=i(t)}}}function n(){void 0!==p&&t.event&&t.event.stopPropagation()}function o(t){var e=t.enter().append("group").each(function(t){this.originX="center",this.originY="center",this.left=t.x,this.top=t.y});e.append("rect").each(function(t){this.width=t.dx,this.height=t.dy,this.fill=t.color}),e.append("text").each(function(t){this.fontSize=11,this.text=t.name})}function i(){void 0!==p&&(f=Math.random()*h/4,m=Math.random()*u/4,p.transition().duration(1e3).tween("posTween",e(f,m)))}function r(t,e,n){if(void 0===p){c=t,h=e,u=n;var i,r,a,s,f,m,g;for(l=[],r=0;500>r;r+=1)a=Math.random()*e/2+e/4,s=Math.random()*n/2+n/4,f=20,m=20,g="#ff0000",l[r]={x:a,y:s,dx:f,dy:m,color:g,name:String(r)};d=l,p=c.append("group").each(function(){this.originX="center",this.originY="center",this.d={x:this.left,y:this.top}}),i=p.selectAll("group").data(d,function(t){return t.name}),o(i),c.pumpRender()}}function a(t,e){h=t,u=e}function s(){void 0!==p&&(p.remove(),p=void 0)}var c,l,h,u,d,p,f=0,m=0;return{init:r,update:i,zoom:n,resize:a,remove:s,enableRotate:!1}}}),define("scalejs.visualization-d3/d3",["scalejs!core","knockout","d3","d3.colorbrewer","scalejs.canvas","scalejs.visualization-d3/treemap","scalejs.visualization-d3/treemapCustom","scalejs.visualization-d3/sunburst","scalejs.visualization-d3/sunburstCustom","scalejs.visualization-d3/voronoi","scalejs.visualization-d3/testindiv","scalejs.visualization-d3/testgroup"],function(t,e,n,o,i,r,a,s,c){function l(t){function e(t){var e="Calling "+t+" function of undefined visualization. "+n;return function(){console.error(e)}}var n="Visualization ";return void 0!==t&&(n+="("+t+") "),n+="doesn't exist!",{init:e("init"),update:e("update"),zoom:e("zoom"),renderEnd:e("renderEnd"),resize:e("resize"),remove:e("remove")}}function h(r,a){function s(t,e,n,o){se=t,ce=e,le=n,he=o,L.select("group").attr("scaleX",he).attr("scaleY",he).attr("angle",le).attr("left",se).attr("top",ce),L.pumpRender()}function c(){return w.enableRotate=void 0!==u(te)?u(te):w.enableRotateDefault,K.setRotateState(w.enableRotate),{left:se,top:ce,rotate:le,scale:he}}function h(t,e,n,o){if(!w.enableRotate){t>0&&(t=0),e>0&&(e=0);var i=t+o*B,r=e+o*H;B>i&&(t+=B-i),H>r&&(e+=H-r)}return 1>o?(o=Math.max(ue,o),se=(1-o)/2*B,ce=(1-o)/2*H,le=0,he=o):(se=t,ce=e,le=n,he=o),{left:se,top:ce,rotate:le,scale:he}}function f(t,e,n,o){if(!w.enableRotate){t>0&&(t=0),e>0&&(e=0);var i=t+o*B,r=e+o*H;B>i&&(t+=B-i),H>r&&(e+=H-r)}return 1>o?(se=0,ce=0,le=0,he=1,ue+(1-ue)/4>o&&x(W.parent||W)):(se=t,ce=e,le=n,he=o),{left:se,top:ce,rotate:le,scale:he}}function m(){K=t.canvas.touch&&u(ne)?t.canvas.touch({canvas:X,renderCallback:s,startCallback:c,stepCallback:h,endCallback:f}):{setRotateState:function(){},remove:function(){}}}function g(t){var e,i=Object.prototype.toString.call(F),r=u(t);for(I=n.scale.linear(),"[object Array]"===i?(0===F.length?F=o.PuBu[3]:1===F.length&&(F=[F[0],F[0]]),I.range(F)):I.range("[object String]"===i?void 0!==o[F]?o[F][3]:o.PuBu[3]:o.PuBu[3]),R=[],("array"!=typeof r||0===r.length)&&(R[0]={idPath:D,namePath:A,childrenPath:N,areaPath:O,colorPath:z,colorPalette:F,colorScale:I,fontSize:C,fontFamily:j,fontColor:Y}),e=0;e<r.length;e+=1)"string"==typeof r[e]?(R[e]={idPath:D,namePath:A,childrenPath:u(r[e]),areaPath:O,colorPath:z,colorPalette:F,colorScale:I,fontSize:C,fontFamily:j,fontColor:Y},Q+=1):(R[e]={idPath:u(r[e].idPath)||D,namePath:u(r[e].namePath||r[e].idPath)||A,childrenPath:u(r[e].childrenPath)||N,areaPath:u(r[e].areaPath)||O,colorPath:u(r[e].colorPath)||z,fontSize:u(r[e].fontSize)||C,fontFamily:u(r[e].fontFamily)||j,fontColor:u(r[e].fontColor)||Y},Q+=R[e].radialFraction,void 0===r[e].colorPalette?(R[e].colorPalette=F,R[e].colorScale=I):(R[e].colorPalette=u(r[e].colorPalette),R[e].colorScale=n.scale.linear(),i=Object.prototype.toString.call(R[e].colorPalette),"[object Array]"===i?0===R[e].colorPalette.length?(R[e].colorPalette=F,R[e].colorScale=I):(1===R[e].colorPalette.length&&(R[e].colorPalette=[R[e].colorPalette[0],R[e].colorPalette[0]]),R[e].colorScale.range(R[e].colorPalette)):"[object String]"===i?void 0!==o[R[e].colorPalette]?R[e].colorScale.range(o[R[e].colorPalette][3]):(R[e].colorPalette=F,R[e].colorScale=I):(R[e].colorPalette=F,R[e].colorScale=I)))}function v(t,e,o,i){var r,a,s,c,l,h,d,r,p=u(t);if(i.value<o&&(i.value=o),h=e[o]||k,void 0===p[h.childrenPath])return r={id:u(p[h.idPath])||"",name:u(p[h.namePath])||"",lvl:o,size:u(void 0!==p[h.areaPath]?p[h.areaPath]:1),colorSize:u(p[h.colorPath])||0,fontSize:h.fontSize,fontFamily:h.fontFamily,fontColor:h.fontColor},r.name===W.name&&(W=r),r;for(r={id:u(p[h.idPath])||"",name:u(p[h.namePath])||"",lvl:o,children:[],childrenReference:[],size:u(void 0!==p[h.areaPath]?p[h.areaPath]:1),colorSize:u(p[h.colorPath])||0,colorScale:n.scale.linear(),fontSize:h.fontSize,fontFamily:h.fontFamily,fontColor:h.fontColor,minSize:0,maxSize:1,minColor:0,maxColor:1},r.name===W.name&&(W=r),c=u(p[h.childrenPath]),s=0;s<c.length;s+=1)a=v(c[s],e,o+1,i),a.parent=r,a.index=s,void 0===p[h.areaPath]&&(r.size+=a.size),void 0===p[h.colorPath]&&(r.colorSize+=a.colorSize),s?(r.minSize=Math.min(r.minSize,a.size),r.maxSize=Math.max(r.maxSize,a.size),r.minColor=Math.min(r.minColor,a.colorSize),r.maxColor=Math.max(r.maxColor,a.colorSize)):(r.minSize=a.size,r.maxSize=a.size+1,r.minColor=a.colorSize,r.maxColor=a.colorSize+1),r.children[s]=a,r.childrenReference[s]=a;for(r.colorScale.range(e.length<=o+1?I.range():e[o+1].colorScale.range()),l=(r.maxColor-r.minColor)/Math.max(r.colorScale.range().length-1,1),r.colorScale.domain(n.range(r.minColor,r.maxColor+l,l)),s=0;s<c.length;s+=1)d=r.colorScale(r.children[s].colorSize),r.children[s].color=d,r.childrenReference[s].color=d;return r}function y(){se=0,ce=0,le=0,he=1,L.select("group").transition().duration(1e3).tween("canvasTween",function(){var t=n.interpolate(this.left,0),e=n.interpolate(this.top,0),o=n.interpolate(this.angle,0),i=n.interpolate(this.scaleX,1),r=n.interpolate(this.scaleY,1),a=this;return function(n){a.left=t(n),a.top=e(n),a.angle=o(n),a.scaleX=i(n),a.scaleY=r(n)}})}function x(t){var e,o=[],i=W;if(u(ee))if(w.enableRootZoom&&t===i&&(t=G),t!==i&&y(),W=e=t,G.curLevel=W.lvl,G.curMaxLevel=W.lvl+G.maxVisibleLevels-1,d(ie)){for(;void 0!==e.parent;)o.unshift(e.index),e=e.parent;ie(o)}else w.zoom(W);n.event&&n.event.stopPropagation()}function E(){ae=!1;var t=W,e=[];if(d(ie)){for(;void 0!==t.parent;)e.unshift(t.index),t=t.parent;ie(e)}ae=!0,w.update(W),L.pumpRender()}var w,T,b,P,S,_,M,R,D,A,N,O,z,F,I,C,j,Y,k,V,X,L,U,B,H,G,W,q,Z,K,Q,J,$=a(),te=$.enableRotate,ee=$.enableZoom||!1,ne=$.enableTouch||!1,oe=$.allowTextOverflow||!1,ie=$.selectedItemPath||e.observable([]),re=n.scale.linear(),ae=!0,se=0,ce=0,le=0,he=1,ue=.8;U=window.getComputedStyle(r),B=parseInt(U.width,10),H=parseInt(U.height,10),0>=H&&(H=1),X=n.select(r).style("overflow","hidden").append("canvas").attr("width",B).attr("height",H).node(),m(),d(ne)&&ne.subscribe(function(){K.remove(),m()}),L=i.select(X).ease(n.ease("cubic-in-out")),P=e.computed(function(){var t,e={value:0};return _=u($.maxVisibleLevels||2),S=u($.data)||{name:"Empty"},M=u($.levels)||[{}],D=u($.idPath)||"id",A=u($.namePath)||D,N=u($.childrenPath)||"children",O=u($.areaPath)||"area",z=u($.colorPath)||"color",F=u($.colorPalette)||"PuBu",C=u($.fontSize)||11,j=u($.fontFamily)||"Times New Roman",Y=u($.fontColor)||"#000",k={idPath:D,namePath:A,childrenPath:N,areaPath:O,colorPath:z,colorPalette:F,colorScale:I,fontSize:C,fontFamily:j,fontColor:Y},g(M),W?W.old=!0:W={name:null},G=v(S,R,0,e,0),null===W.name||W.old?(W=G,G.curLevel=0,G.curMaxLevel=_-1):(G.curLevel=W.lvl,G.curMaxLevel=W.lvl+_-1),G.maxlvl=e.value,G.maxVisibleLevels=_,G.radialTotalFrac=Q,G.levels=R,re=n.scale.linear().range(R[0].colorScale.range()),t=2/Math.max(re.range().length-1,1),re.domain(n.range(G.colorSize-t/2,G.colorSize+t/2,t)),G.color=re(G.colorSize),G}),V=e.computed(function(){return u(ie)}),V.subscribe(function(t){var e,n=P();if("[object Array]"===Object.prototype.toString.call(t))for(e=0;e<t.length;e+=1){if(void 0===n.childrenReference){n=P();break}if(void 0===n.childrenReference[t[e]]){n=P();break}n=n.childrenReference[t[e]]}n&&(W=n,G.curLevel=W.lvl,G.curMaxLevel=W.lvl+G.maxVisibleLevels-1,ae&&w.zoom(W))}),b=e.computed(function(){return T=$.visualization||e.observable(""),u(T)}),T=b(),w=void 0!==p[T]?p[T]():l(T),w.allowTextOverflow=u(oe),w.init($,L,B,H,P,x,W,r),L.startRender(),L.pumpRender(),d(oe)&&oe.subscribe(function(){w.allowTextOverflow=u(oe),w.update(W)}),b.subscribe(function(){w.remove(),T=b(),w=void 0!==p[T]?p[T]():l(T),se=0,ce=0,le=0,he=1,w.allowTextOverflow=u(oe),w.init($,L,B,H,P,x,W,r),L.pumpRender()}),P.subscribe(function(){E()}),t.layout&&(J=t.layout.onLayoutDone(function(){var t=B,e=H;U=window.getComputedStyle(r),B=parseInt(U.width,10),H=parseInt(U.height,10),0>=H&&(H=1),(B!==t||H!==e)&&(L.attr("width",B),L.attr("height",H),y(),w.resize(B,H),w.update(W),L.pumpRender())}),e.utils.domNodeDisposal.addDisposeCallback(r,function(){J(),J=void 0})),Z=e.computed(function(){return q=$.scale||e.observable(1),u(q)}),Z.subscribe(function(t){w.scale(t),L.pumpRender()})}var u=e.utils.unwrapObservable,d=e.isObservable,p={treemapCustom:a,sunburstCustom:c};return{init:h}}),define("scalejs.visualization-d3",["scalejs!core","knockout","scalejs.visualization-d3/d3","d3"],function(t,e,n){return e.bindingHandlers.d3?(console.error("visualization-d3 is already setup"),!1):(e.bindingHandlers.d3=n,e.virtualElements.allowedBindings.d3=!0,void t.registerExtension({d3:n}))});