define("scalejs.visualization-d3/canvas-helper",["d3","scalejs.canvas"],function(a,b){"use strict";function c(c){for(var d,e,f,g,h;c.firstChild;)c.removeChild(c.firstChild);return d=window.getComputedStyle(c),e=parseInt(d.width,10),e=e>=1?e:1,f=parseInt(d.height,10),f=f>=1?f:1,g=a.select(c).style("overflow","hidden").append("canvas").attr("width",e).attr("height",f).attr("display","none").node(),h=b.select(g).ease(a.ease("cubic-in-out")),{elementStyle:d,canvasWidth:e,canvasHeight:f,canvasElement:g,canvas:h}}return{initializeCanvas:c}}),define("scalejs.visualization-d3/nested-data-helper",[],function(){"use strict";function a(a,b){var c,d=b;if(a instanceof Array){for(c=0;c<a.length;c+=1){if(void 0===d.childrenReference[a[c]])return;d=d.childrenReference[a[c]]}return d}}function b(a,b){for(var c=0;b.indexOf(a)<0;)c+=1,a=a.parent;return c}function c(a){for(var b=[];void 0!==a.parent;)b.push(a),a=a.parent;return b.push(a),b}function d(a){for(var b=[],c=a;void 0!==c.parent;)b.unshift(c.index),c=c.parent;return b}return{getNode:a,getDistanceToTreePath:b,getNodeTreePath:c,createNodePath:d}}),define("scalejs.visualization-d3/gesture-helper",["scalejs!core","d3","knockout","scalejs.visualization-d3/nested-data-helper"],function(a,b,c,d){var e=c.utils.unwrapObservable,f=c.isObservable,g=d.getNode,h=d.createNodePath;return function(){function d(d,l,m,n,o,p,q,r,s,t,u,v,w){function x(){var a,b,c=d.canvasWidth,e=d.canvasHeight,f=window.getComputedStyle(v);a=parseInt(f.width,10),a=a>=1?a:1,b=parseInt(f.height,10),b=b>=1?b:1,(a!==c||b!==e)&&(t(a,b),B(d.canvas),w())}function y(){o(void 0)}function z(a){p(h(a))}function A(a){o(h(a))}function B(a){j.left=0,j.top=0,j.rotate=0,j.scale=1,a.select("group").transition().duration(1e3).tween("canvasTween",function(){var a=b.interpolate(this.left,0),c=b.interpolate(this.top,0),d=b.interpolate(this.angle,0),e=b.interpolate(this.scaleX,1),f=b.interpolate(this.scaleY,1),g=this;return function(b){g.left=a(b),g.top=c(b),g.angle=d(b),g.scaleX=e(b),g.scaleY=f(b)}})}function C(a){var c,f=[],h=g(q(),r());if(e(n)){for(s&&a===h&&(a=r()),a!==h&&B(d.canvas),c=a,r().curLevel=c.lvl,r().curMaxLevel=c.lvl+r().maxVisibleLevels-1;void 0!==c.parent;)f.unshift(c.index),c=c.parent;q(f)}b.event&&b.event.stopPropagation()}function D(a,b,c,e){j.left=a,j.top=b,j.rotate=c,j.scale=e,d.canvas.select("group").attr("scaleX",j.scale).attr("scaleY",j.scale).attr("angle",j.rotate).attr("left",j.left).attr("top",j.top),d.canvas.pumpRender()}function E(){return l=void 0!==e(l)?e(l):u,J.setRotateState(l),j}function F(a){return function(b,c,e,f){if(!l){b>0&&(b=0),c>0&&(c=0);var g=b+f*d.canvasWidth,h=c+f*d.canvasHeight;g<d.canvasWidth&&(b+=d.canvasWidth-g),h<d.canvasHeight&&(c+=d.canvasHeight-h)}return 1>f?a(b,c,e,f):(j.left=b,j.top=c,j.rotate=e,j.scale=f),j}}function G(a,b,c,e){e=Math.max(k,e),j.left=(1-e)/2*d.canvasWidth,j.top=(1-e)/2*d.canvasHeight,j.rotate=0,j.scale=e}function H(a,b,c,d){j.left=0,j.top=0,j.rotate=0,j.scale=1,k+(1-k)/4>d&&C(g(q(),r()).parent||g(q(),r()))}function I(b,d,e,f){return void 0!==i&&(i(),i=void 0),i=a.layout?a.layout.onLayoutDone(x):window.addEventListener("resize",x),c.utils.domNodeDisposal.addDisposeCallback(b,function(){i(),i=void 0}),i}var J;return I(v,d,w,t),J=a.canvas.touch&&e(m)?a.canvas.touch({canvas:d.canvasElement,renderCallback:D,startCallback:E,stepCallback:F(G),endCallback:F(H)}):{setRotateState:function(){},remove:function(){}},f(m)&&m.subscribe(function(){J.remove(),registerTouchHandler()}),{selectTouch:z,selectZoom:C,selectHeld:A,selectRelease:y}}var i,j={left:0,top:0,rotate:0,scale:1},k=.8;return{setupGestures:d}}}),define("d3.colorbrewer",{YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}}),define("scalejs.visualization-d3/json-helper",["scalejs!core","knockout","d3","d3.colorbrewer","scalejs.visualization-d3/nested-data-helper"],function(b,c,d,e,f){"use strict";function g(a,b){return"function"==typeof b?b(a):a[b]}var h=b.type.is,i=c.utils.unwrapObservable,j=f.getNode,k=d.scale.linear();return function(b,f,l){function m(){q.idPath=i(b.idPath)||"id",q.namePath=i(b.namePath)||q.idPath,q.childrenPath=i(b.childrenPath)||"children",q.areaPath=i(b.areaPath)||"area",q.colorPath=i(b.colorPath)||"color",q.colorPalette=i(b.colorPalette)||"PuBu",q.fontSize=i(b.fontSize)||11,q.fontFamily=i(b.fontFamily)||"Times New Roman",q.fontColor=i(b.fontColor)||"#000",q.colorPalette instanceof Array?1===q.colorPalette.length&&(q.colorPalette[1]=q.colorPalette[0]):q.colorPalette=e[q.colorPalette][3]}function n(a){for(var b,c=[],d=0;d<a.length;d+=1)b=a[d],b instanceof Object?(c[d]={idPath:i(b.idPath)||q.idPath,namePath:i(b.namePath||b.idPath)||q.namePath,childrenPath:i(b.childrenPath)||q.childrenPath,areaPath:i(b.areaPath)||q.areaPath,colorPath:i(b.colorPath)||q.colorPath,fontSize:i(b.fontSize)||q.fontSize,fontFamily:i(b.fontFamily)||q.fontFamily,fontColor:i(b.fontColor)||q.fontColor,colorPalette:i(b.colorPalette)},c[d].colorPalette instanceof Array?1===c[d].colorPalette.length&&(c[d].colorPalette[1]=c[d].colorPalette[0]):null==c[d].colorPalette?c[d].colorPalette=q.colorPalette:c[d].colorPalette=e[c[d].colorPalette][3]):c[d]={childrenPath:b||q.childrenPath,idPath:q.idPath,namePath:q.namePath,areaPath:q.areaPath,colorPath:q.colorPath,colorPalette:q.colorPalette,fontSize:q.fontSize,fontFamily:q.fontFamily,fontColor:q.fontColor};return c}function o(b,c,e,f){var i,j,l,m=c[e]||q,n={id:g(b,m.idPath)||"",name:b[m.namePath]||"",lvl:e,size:void 0!==g(b,m.areaPath)?g(b,m.areaPath):1,colorSize:g(b,m.colorPath)||0,fontSize:m.fontSize,fontFamily:m.fontFamily,fontColor:m.fontColor};if(!g(b,m.childrenPath))return f.value<e&&(f.value=e),n;n.children=[],n.childrenReference=[],j=g(b,m.childrenPath),h(j,"array")||(a=[],Object.keys(j).forEach(function(b){a.push(j[b])}),j=a);for(var p=0;p<j.length;p+=1)i=o(j[p],c,e+1,f),i.parent=n,i.index=p,void 0===g(b,m.areaPath)&&(n.size+=i.size),void 0===g(b,m.colorPath)&&(n.colorSize+=i.colorSize),n.minSize=Math.min(n.minSize||i.size,i.size),n.maxSize=Math.max(n.maxSize||i.size+1,i.size),n.minColor=Math.min(n.minColor||i.colorSize,i.colorSize),n.maxColor=Math.max(n.maxColor||i.colorSize+1,i.colorSize),n.children[p]=n.childrenReference[p]=i;k.range(c.length<=e+1?q.colorPalette:c[e+1].colorPalette),l=(n.maxColor-n.minColor)/Math.max(k.range().length-1,1),k.domain(d.range(n.minColor,n.maxColor+l,l));for(var p=0;p<j.length;p+=1)n.children[p].color=k(n.children[p].colorSize);return n}var p,q={},r={unordered:function(a,b){return a.index-b.index},ascendingSize:function(a,b){return a.size-b.size},descendingSize:function(a,b){return b.size-a.size}};return p=c.computed(function(){var a,c,e={value:0},f=i(b.sortBy)||"unordered",g=i(b.maxVisibleLevels),h=i(b.data)||{name:"Empty"},p=i(b.levels)||[{}];return m(),c=n(p),root=o(h,c,0,e,0),g=g||e.value+1,f instanceof Function?root.sortBy=f:r[f]?root.sortBy=r[f]:root.sortBy=f.unordered,k.range(c[0].colorPalette),a=2/Math.max(k.range().length-1,1),k.domain(d.range(root.colorSize-a/2,root.colorSize+a/2,a)),root.color=k(root.colorSize),root.curLevel=j(l(),root).lvl,root.curMaxLevel=root.curLevel+g-1,root.maxlvl=e.value,root.maxVisibleLevels=g,root.levels=c,root.index=0,root})}}),define("scalejs.visualization-d3/color-helper",[],function(){"use strict";function a(a){var b,c=1;return 0===a.indexOf("rgba")&&(b=a.substring(5,a.length-1).replace(/ /g,"").split(","),c=Number(b.pop()),a="rgb("+b.join(",")+")"),{color:a,opacity:c}}return{parseColor:a}}),define("scalejs.visualization-d3/visualizations/treemap",["d3","scalejs.visualization-d3/canvas-helper","scalejs.visualization-d3/gesture-helper","knockout","scalejs.visualization-d3/json-helper","scalejs.visualization-d3/nested-data-helper","scalejs.visualization-d3/color-helper"],function(a,b,c,d,e,f,g){"use strict";function h(){function a(a){return(a-b[0])/d*e+c[0]}var b=[0,1],c=[0,1],d=1,e=1;return a.domain=function(c){return arguments.length?(b=c,d=b[1]-b[0],a):b},a.range=function(b){return arguments.length?(c=b,e=c[1]-c[0],a):c},a}function i(){function d(a,b){if(!a.parent)return{x:a.x,y:a.y,dx:a.dx,dy:a.dy};var c=P/F,e=P/G,f=d(a.parent);return b?{x:f.dx/a.parent.dx*(a.x-a.parent.x)+f.x+c/2,y:f.dy/a.parent.dy*(a.y-a.parent.y)+f.y+e/2,dx:f.dx/a.parent.dx*a.dx-c,dy:f.dy/a.parent.dy*a.dy-e}:{x:f.dx/a.parent.dx*(a.x-a.parent.x)+f.x+c,y:f.dy/a.parent.dy*(a.y-a.parent.y)+f.y+e,dx:f.dx/a.parent.dx*a.dx-2*c,dy:f.dy/a.parent.dy*a.dy-2*e}}function f(b){return function(c){var e,f,g,h,i=d(c,c),j=c.children&&c.lvl<root.curMaxLevel?E(c.lvl/(root.maxlvl-1)):c.color,k=p(j),l=a.interpolate(this.backFill,k.color),m=a.interpolate(this.opacity,b*k.opacity),n=this;return c.sx=A(i.x),c.sy=B(i.y),c.sdx=Math.max(F*i.dx,0),c.sdy=Math.max(G*i.dy,0),e=a.interpolate(this.left,c.sx),f=a.interpolate(this.top,c.sy),g=a.interpolate(this.width,c.sdx),h=a.interpolate(this.height,c.sdy),j!==this.backFill?function(a){n.left=e(a),n.top=f(a),n.width=g(a),n.height=h(a),n.backFill=l(a),n.opacity=m(a)}:function(a){n.left=e(a),n.top=f(a),n.width=g(a),n.height=h(a),n.opacity=m(a)}}}function g(){return function(b){var c,d=a.interpolate(this.left,b.sdx/2),e=a.interpolate(this.top,b.sdy/2),f=p(b.fontColor),g=a.interpolate(this.fill,f.color),h=this;return c=T?a.interpolate(this.opacity,b.children&&b.lvl<root.curMaxLevel?0:f.opacity):a.interpolate(this.opacity,!(b.children&&b.lvl<root.curMaxLevel)&&b.sdx-1>=this.width&&b.sdy-1>=this.height?f.opacity:0),this.fontFamily=b.fontFamily,this.fontSize=b.fontSize,function(a){h.left=d(a),h.top=e(a),h.opacity=c(a),h.fill=g(a)}}}function i(a,b,c,d){a.filter(function(a){return!(a.children&&a.lvl<root.curMaxLevel)}).on("touch",w).on("hold",y).on("release",z).on("tap",function(a){x(a.parent||a)}),a.transition().duration(d).tween("groupTween",f(1)),b.transition().duration(d).tween("textTween",g(c))}function j(b){var c,e,f,h,j,k,l=v(),q=m(L(),v());b=void 0!==b?b:1e3,c=C.size([u.canvasWidth,u.canvasHeight]).sort(l.sortBy).nodes(l).filter(function(a){return n(a,o(q))<l.maxVisibleLevels}).sort(function(a,b){return a.depth===b.depth?b.value-a.value:a.depth-b.depth}),e=D.selectAll("group").data(c,function(a){return a.id}),f=e.enter().append("group").each(function(a){var b=a.parent||a,c=p(a.children&&a.lvl<l.curMaxLevel?E(a.lvl/(l.maxlvl-1)):a.color);this.left=A(b.x)+F*b.dx/2,this.top=B(b.y)+G*b.dy/2,this.backFill=c.color,this.opacity=0}),j=f.append("text").each(function(a){this.originX="center",this.originY="center",this.left=0,this.top=0,this.fontFamily=a.fontFamily,this.fontSize=a.fontSize;var b=p(a.fontColor);this.fill=b.color,this.setText(a.name),T?this.opacity=a.parent&&a.parent.children&&a.parent.lvl<l.curMaxLevel?b.opacity:0:this.opacity=a.parent&&a.parent.children&&a.parent.lvl<l.curMaxLevel&&F*a.dx-2*P>=this.width&&G*a.dy-2*P>=this.height?b.opacity:0}),F=u.canvasWidth/q.dx,G=u.canvasHeight/q.dy,A.domain([q.x,q.x+q.dx]),B.domain([q.y,q.y+q.dy]),i(f,j,q,b),i(e,e.select("text"),q,b),e.filter(function(a){return a.children&&a.lvl<l.curMaxLevel}).on("touch",null).on("tap",null).on("hold",null),h=e.exit().transition().duration(b).tween("groupTween",function(b){var c=d(b.parent||b,b.parent||b),e=a.interpolate(this.left,A(c.x+c.dx/2)),f=a.interpolate(this.top,B(c.y+c.dy/2)),g=a.interpolate(this.width,0),h=a.interpolate(this.height,0),i=a.interpolate(this.opacity,0),j=this;return function(a){j.left=e(a),j.top=f(a),j.width=g(a),j.height=h(a),j.opacity=i(a)}}).each(function(){this.remove()},"end"),k=h.select("text").each(function(a){a.sdx=0,a.sdy=0}).tween("textTween",g(q)),a.event&&a.event.stopPropagation()}function q(a,b){u.canvasWidth=a,u.canvasHeight=b,u.canvas.attr("width",u.canvasWidth),u.canvas.attr("height",u.canvasHeight),A.range([0,u.canvasWidth]),B.range([0,u.canvasHeight])}function r(a){u=b.initializeCanvas(a)}function s(a){var b=gestureHelper.setupGestures(u,Q,K,J,N,M,L,v,S,q,R,a,j);w=b.selectTouch,x=b.selectZoom,y=b.selectHeld,z=b.selectRelease}function t(b,d){var f,g;gestureHelper=c(),H=d(),I=void 0===H.triggerTime?10:H.triggerTime,Q=H.enableRotate,J=H.enableZoom||!1,K=H.enableTouch||!1,T=H.allowTextOverflow||!1,L=l(H.zoomedItemPath)?H.zoomedItemPath:k(H.zoomedItemPath),void 0===L()&&L([]),M=l(H.selectedItemPath)?H.selectedItemPath:k(H.selectedItemPath),void 0===M()&&M([]),N=l(H.heldItemPath)?H.heldItemPath:k(H.heldItemPath),void 0===N()&&N([]),L.subscribe(function(a){var b=m(a,v());b||(L([]),b=v()),b&&(v().curLevel=b.lvl,v().curMaxLevel=b.lvl+v().maxVisibleLevels-1,j())}),M.subscribe(function(a){m(a,v())||M(void 0)}),v=e(H,I,L),g=v(),v.subscribe(function(){j()}),r(b),s(b),A=h().range([0,u.canvasWidth]),B=h().range([0,u.canvasHeight]),E=void 0===H.borderColor?a.interpolate("#888","#fff"):a.interpolate(H.borderColor[0],H.borderColor[1]),C=a.layout.treemap().round(!1).sort(g.sortBy).size([u.canvasWidth,u.canvasHeight]).sticky(!1).mode("squarify").value(function(a){return a.size}).children(function(a){return a.children}),D=u.canvas.append("group").each(function(){this.fontFamily="Times New Roman",this.fontSize=11}),f=C.nodes(g).filter(function(a){return n(a,o(m(L(),v())))<g.maxVisibleLevels}).sort(function(a,b){return a.depth===b.depth?b.value-a.value:a.depth-b.depth}),D.selectAll("group").data(f,function(a){return a.id}),O=m(L(),v()),F=u.canvasWidth/O.dx,G=u.canvasHeight/O.dy,A.domain([O.x,O.x+O.dx]),B.domain([O.y,O.y+O.dy]),j(0)}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P=3,Q=!1,R=!1,S=!0,T=!1;return{initializeTreemap:t}}function j(a,b){var c=i();c.initializeTreemap(a,b)}var k=d.observable,l=d.isObservable,m=f.getNode,n=f.getDistanceToTreePath,o=f.getNodeTreePath,p=g.parseColor;return{init:j}}),define("scalejs.visualization-d3/visualizations/sunburst",["knockout","d3","scalejs.visualization-d3/canvas-helper","scalejs.visualization-d3/gesture-helper","scalejs.visualization-d3/json-helper","scalejs.visualization-d3/nested-data-helper","scalejs.visualization-d3/color-helper"],function(a,b,c,d,e,f,g){
"use strict";function h(){function a(a){return Math.max(0,Math.min(2*Math.PI,I(a.x)))}function f(a){return Math.max(0,Math.min(2*Math.PI,I(a.x+a.dx)))}function g(a){return Math.max(0,J(a.y))}function h(a){return Math.max(0,J(a.y+a.dy))}function i(a,b){var c,d=[];for(c=0;a>c;c+=1)d[c]=b;return d}function q(a,b){var c=0,d=a.levelsFr,e=a.fr||1,f=a.parentFr||1;return d.length<K.maxlvl+1&&(d=d.concat(i(K.maxlvl-d.length+1,e))),d=d.map(function(a,d){return d===b.lvl-1?c+=f:d>b.lvl-1&&d<=K.curMaxLevel?c+=a:c}).map(function(a,b,c){return a/c[c.length-1]*H}),d.unshift(0),d}function r(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(b/(a.length-1));return c}function s(a){var c=O&&O.levelsFr,d=c?q(O,a):[a.y?a.dy*H/2:0,H],e=c?r(d,a):[a.y,(K.curMaxLevel+1)/(K.maxlvl+1)];return function(){var c=b.interpolate(I.domain(),[a.x,a.x+a.dx]),f=b.interpolate(J.domain(),e),g=b.interpolate(J.range(),d);return function(a){I.domain(c(a)),J.domain(f(a)).range(g(a))}}}function t(a){return function(c){var d=b.interpolate(this.old.x,c.x),e=b.interpolate(this.old.y,c.y),f=b.interpolate(this.old.dx,c.dx),g=b.interpolate(this.old.dy,c.dy),h=b.interpolate(this.left,B.canvasWidth/2),i=b.interpolate(this.top,B.canvasHeight/2),j=p(c.color),k=b.interpolate(this.opacity,a*j.opacity);return function(a){this.old.x=d(a),this.old.y=e(a),this.old.dx=f(a),this.old.dy=g(a),this.left=h(a),this.top=i(a),this.opacity=k(a)}}}function u(){return function(c){var d=p(c.color),e=b.interpolate(this.fill,d.color),i=b.interpolate(this.opacity,d.opacity);return function(b){this.fill=e(b),this.opacity=i(b),this.innerRadius=g(this.old),this.outerRadius=h(this.old),this.startAngle=a(this.old),this.endAngle=f(this.old)}}}function v(c){return function(d){var e,i,j,k,l,m,n,o,q,r=p(d.fontColor),s=b.interpolate(this.fill,r.color),t=b.interpolate(this.opacity,r.opacity);return this.fontFamily=d.fontFamily,this.fontSize=d.fontSize,function(b){l=h(this.old),m=g(this.old),n=a(this.old),o=f(this.old),q=(o-n)*m,this.fill=s(b),e=I(this.old.x+this.old.dx/2),i=e-Math.PI/2,j=J(d.y)+2,k=180*e/Math.PI-90,this.left=j*Math.cos(i),this.top=j*Math.sin(i),c!==d?(k>90&&(k=(k+180)%360),this.originX=e>Math.PI?"right":"left",$?this.opacity=t(b):this.opacity=l-m-4>=this.width&&(q-2>=this.height||c===d&&1>m)?t(b):0):(k-=90,this.originX="center",this.originY="top",$?this.opacity=t(b):this.opacity=l-m-4>=this.height&&(q-2>=this.width||c===d&&1>m)?t(b):0),this.angle=O&&null!=O.enableRotatedText?O.enableRotatedText?k:0:k}}}function w(c){var d,e,h,i,k,l,q,r,w,x,y=m(T(),C());c=void 0!==c?c:1e3,K=C(),O=j(P),d=L.sort(K.sortBy).nodes(K).filter(function(a){return n(a,o(y))<K.maxVisibleLevels}),e=N.selectAll("group").data(d,function(a){return a.id}),h=e.enter().append("group").each(function(a){this.left=B.canvasWidth/2,this.top=B.canvasHeight/2,this.opacity=0,this.old={x:a.x,y:a.y,dx:a.dx,dy:a.dy}}),l=h.append("arc").each(function(b){this.fill=b.color,this.outerRadius=this.innerRadius=g(b),this.endAngle=this.startAngle=(f(b)-a(b))/2,this.old=this.parent.old}).on("touch",D).on("tap",E).on("hold",F).on("release",G),w=h.append("text").each(function(a){K!==a?(this.originX=I(a.x+a.dx/2)>Math.PI?"right":"left",this.originY="center"):(this.originX="center",this.originY="top"),this.fontFamily=a.fontFamily,this.fontSize=a.fontSize;var b=p(a.fontColor),c=180*I(a.x+a.dx/2)/Math.PI-90;this.fill=b.color,this.setText(a.name),a.bw=J(a.y+a.dy)-J(a.y),a.bh=(I(a.x+a.dx)-I(a.x))*J(a.y),K!==a?(c>90&&(c=(c+180)%360),$?this.opacity=b.opacity:this.opacity=a.bw-4>=this.height&&(a.bh-2>=this.width||K===a&&J(a.y)<1)?b.opacity:0):(c-=90,$?this.opacity=b.opacity:this.opacity=a.bw-4>=this.width&&(a.bh-2>=this.height||K===a&&J(a.y)<1)?b.opacity:0),this.angle=c,this.left=(Math.max(J(a.y),0)+2)*Math.cos(I(a.x+a.dx/2)-Math.PI/2),this.top=(Math.max(J(a.y),0)+2)*Math.sin(I(a.x+a.dx/2)-Math.PI/2),this.old=this.parent.old}),N.transition().duration(c).tween("zoomTween",s(y)),h.transition().duration(c).tween("groupTween",t(1)),l.transition().duration(c).tween("arcTween",u(y)),w.transition().duration(c).tween("textTween",v(y)),e.transition().duration(c).tween("groupTween",t(1)),k=e.select("arc").transition().duration(c).tween("arcTween",u(y)),r=e.select("text").transition().duration(c).tween("textTween",v(y)),i=e.exit().transition().duration(c).tween("groupTween",t(0)).each(function(){this.remove()},"end"),q=i.select("arc").tween("arcTween",u(y)),x=i.select("text").tween("textTween",v(y)),b.event&&b.event.stopPropagation()}function x(a,b){B.canvasWidth=a,B.canvasHeight=b,B.canvas.attr("width",B.canvasWidth),B.canvas.attr("height",B.canvasHeight),H=Math.min(B.canvasWidth,B.canvasHeight)/2}function y(a){B=c.initializeCanvas(a)}function z(a){var b=gestureHelper.setupGestures(B,X,S,R,V,U,T,C,Z,x,Y,a,w);D=b.selectTouch,E=b.selectZoom,F=b.selectHeld,G=b.selectRelease}function A(a,c){var f,g;gestureHelper=d(),P=c(),Q=void 0===P.triggerTime?10:P.triggerTime,X=P.enableRotate,R=P.enableZoom||!1,S=P.enableTouch||!1,$=P.allowTextOverflow||!1,T=l(P.zoomedItemPath)?P.zoomedItemPath:k(P.zoomedItemPath),void 0===T()&&T([]),U=l(P.selectedItemPath)?P.selectedItemPath:k(P.selectedItemPath),void 0===U()&&U([]),V=l(P.heldItemPath)?P.heldItemPath:k(P.heldItemPath),void 0===V()&&V([]),T.subscribe(function(a){var b=m(a,C());b||(T([]),b=C()),b&&(C().curLevel=b.lvl,C().curMaxLevel=b.lvl+C().maxVisibleLevels-1,w())}),U.subscribe(function(a){m(a,C())||U(void 0)}),C=e(P,Q,T),g=C(),C.subscribe(function(){w()}),y(a),z(a),H=Math.min(B.canvasWidth,B.canvasHeight)/2,I=b.scale.linear().range([0,2*Math.PI]),J=b.scale.linear().range([0,H]),L=b.layout.partition().sort(g.sortBy).value(function(a){return a.size}).children(function(a){return a.children}),M=B.canvas.append("group"),N=M.append("group").each(function(){this.fontFamily="Times New Roman",this.fontSize=11}),f=L.nodes(g).filter(function(a){return n(a,o(m(T(),C())))<g.maxVisibleLevels}),N.selectAll("group").data(f,function(a){return a.id}),W=m(T(),C()),I.domain([W.x,W.x+W.dx]),J.domain([W.y,(g.curMaxLevel+1)/(g.maxlvl+1)]).range([W.y?W.dy*H/2:0,H]),w(0)}var B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X=!0,Y=!0,Z=!1,$=!1;return{initializeSunburst:A}}function i(a,b){var c=h();c.initializeSunburst(a,b)}var j=a.utils.unwrapObservable,k=a.observable,l=a.isObservable,m=f.getNode,n=f.getDistanceToTreePath,o=f.getNodeTreePath,p=g.parseColor;return{init:i}}),define("scalejs.visualization-d3/loader",["scalejs!core","knockout"],function(a,b){"use strict";b.unwrap;b.bindingHandlers.visualizations&&console.error("visualizations is already setup"),b.virtualElements.allowedBindings.visualizations=!0,b.bindingHandlers.visualizations={init:function(a,b){function c(){var c=require("./scalejs.visualization-d3/visualizations/"+d());void 0!==c?c.init(a,b):console.warn("Invalid visualization type:",d())}var d=b().type;d.subscribe(c),c()}}}),define("scalejs.visualization-d3",["knockout","scalejs.visualization-d3/visualizations/treemap","scalejs.visualization-d3/visualizations/sunburst","scalejs.visualization-d3/loader"],function(a,b,c){"use strict";a.bindingHandlers.treemap&&console.error("treemap is already setup"),a.bindingHandlers.sunburst&&console.error("sunburst is already setup"),a.bindingHandlers.treemap=b,a.bindingHandlers.sunburst=c,a.virtualElements.allowedBindings.treemap=!0,a.virtualElements.allowedBindings.sunburst=!0});